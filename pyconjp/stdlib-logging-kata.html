<!DOCTYPE html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã€ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã‚ˆã†ï¼</title>
    <link rel="stylesheet" type="text/css" href="../_static/revealjs/dist/reveal.css?v=d4488b42" />
    <link rel="stylesheet" href="../_static/revealjs/dist/theme/black.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/revealjs/plugin/highlight/zenburn.css?v=83d5745d" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/common.css?v=b04cc698" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-revealjs/css/footnotes.css?v=c46a0db2" />
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.2.0/dist/mermaid-layout-elk.esm.min.mjs"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.2.0/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.esm.min.mjs";

const defaultStyle = document.createElement('style');
defaultStyle.textContent = `pre.mermaid {
    /* Same as .mermaid-container > pre */
    display: block;
    width: 100%;
}

pre.mermaid > svg {
    /* Same as .mermaid-container > pre > svg */
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}
`;
document.head.appendChild(defaultStyle);

const fullscreenStyle = document.createElement('style');
fullscreenStyle.textContent = `.mermaid-container {
    display: flex;
    flex-direction: row;
    width: 100%;
}

.mermaid-container > pre {
    display: block;
    width: 100%;
}

.mermaid-container > pre > svg {
    height: 500px;
    width: 100%;
    max-width: 100% !important;
}

.mermaid-fullscreen-btn {
    width: 28px;
    height: 28px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    font-size: 14px;
    line-height: 1;
    padding: 0;
    color: #333;
}

.mermaid-fullscreen-btn:hover {
    opacity: 100% !important;
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    transform: scale(1.1);
}

.mermaid-fullscreen-btn.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #e0e0e0;
}

.mermaid-fullscreen-btn.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 3px 10px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal {
    display: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 95vw;
    height: 100vh;
    background: rgba(255, 255, 255, 0.98);
    z-index: 9999;
    padding: 20px;
    overflow: auto;
}

.mermaid-fullscreen-modal.dark-theme {
    background: rgba(0, 0, 0, 0.98);
}

.mermaid-fullscreen-modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen {
    position: relative;
    width: 95vw;
    height: 90vh;
    max-width: 95vw;
    max-height: 90vh;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen.dark-theme {
    background: #1a1a1a;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
}

.mermaid-container-fullscreen pre.mermaid {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mermaid-container-fullscreen .mermaid svg {
    height: 100% !important;
    width: 100% !important;
    cursor: grab;
}

.mermaid-fullscreen-close {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    cursor: pointer;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
    font-size: 24px;
    line-height: 1;
    color: #333;
}

.mermaid-fullscreen-close:hover {
    background: white;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    transform: scale(1.1);
}

.mermaid-fullscreen-close.dark-theme {
    background: rgba(50, 50, 50, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #e0e0e0;
}

.mermaid-fullscreen-close.dark-theme:hover {
    background: rgba(60, 60, 60, 1);
    box-shadow: 0 6px 16px rgba(255, 255, 255, 0.2);
}

.mermaid-fullscreen-modal .mermaid-fullscreen-btn {
    display: none !important;
}`;
document.head.appendChild(fullscreenStyle);

// Detect if page has dark background
const isDarkTheme = () => {
    const bgColor = window.getComputedStyle(document.body).backgroundColor;
    const match = bgColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)/);
    if (match) {
        const r = parseInt(match[1]);
        const g = parseInt(match[2]);
        const b = parseInt(match[3]);
        const brightness = (r * 299 + g * 587 + b * 114) / 1000;
        return brightness < 128;
    }
    return false;
};

const load = async () => {
    await mermaid.run();

    const all_mermaids = document.querySelectorAll(".mermaid");
    const mermaids_processed = document.querySelectorAll(".mermaid[data-processed='true']");

    if ("True" === "True") {
        const mermaids_to_add_zoom = 2 === -1 ? all_mermaids.length : 2;
        if(mermaids_to_add_zoom > 0) {
            var svgs = d3.selectAll(".mermaid[data-zoom-id=id-40d27943-4582-4dd4-88eb-bdefaeea2f0b] svg, .mermaid[data-zoom-id=id-1f0961b4-db4e-4137-a3ff-28731d1e35a7] svg");
            if(all_mermaids.length !== mermaids_processed.length) {
                setTimeout(load, 200);
                return;
            } else if(svgs.size() !== mermaids_to_add_zoom) {
                setTimeout(load, 200);
                return;
            } else {
                svgs.each(function() {
                    var svg = d3.select(this);
                    svg.html("<g class='wrapper'>" + svg.html() + "</g>");
                    var inner = svg.select("g");
                    var zoom = d3.zoom().on("zoom", function(event) {
                        inner.attr("transform", event.transform);
                    });
                    svg.call(zoom);
                });
            }
        }
    } else if(all_mermaids.length !== mermaids_processed.length) {
        // Wait for mermaid to process all diagrams
        setTimeout(load, 200);
        return;
    }

    const darkTheme = isDarkTheme();

    // Stop here if not adding fullscreen capability
    if ("True" !== "True") return;

    const modal = document.createElement('div');
    modal.className = 'mermaid-fullscreen-modal' + (darkTheme ? ' dark-theme' : '');
    modal.setAttribute('role', 'dialog');
    modal.setAttribute('aria-modal', 'true');
    modal.setAttribute('aria-label', 'Fullscreen diagram viewer');
    modal.innerHTML = `
        <button class="mermaid-fullscreen-close${darkTheme ? ' dark-theme' : ''}" aria-label="Close fullscreen">âœ•</button>
        <div class="mermaid-container-fullscreen${darkTheme ? ' dark-theme' : ''}"></div>
    `;
    document.body.appendChild(modal);

    const modalContent = modal.querySelector('.mermaid-container-fullscreen');
    const closeBtn = modal.querySelector('.mermaid-fullscreen-close');

    let previousScrollOffset = [window.scrollX, window.scrollY];

    const closeModal = () => {
        modal.classList.remove('active');
        modalContent.innerHTML = '';
        document.body.style.overflow = ''
        window.scrollTo({left: previousScrollOffset[0], top: previousScrollOffset[1], behavior: 'instant'});
    };

    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal();
        }
    });

    const allButtons = [];

    document.querySelectorAll('.mermaid').forEach((mermaidDiv) => {
        if (mermaidDiv.parentNode.classList.contains('mermaid-container') ||
            mermaidDiv.closest('.mermaid-fullscreen-modal')) {
            return;
        }

        const container = document.createElement('div');
        container.className = 'mermaid-container';
        mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
        container.appendChild(mermaidDiv);

        const fullscreenBtn = document.createElement('button');
        fullscreenBtn.className = 'mermaid-fullscreen-btn' + (darkTheme ? ' dark-theme' : '');
        fullscreenBtn.setAttribute('aria-label', 'View diagram in fullscreen');
        fullscreenBtn.textContent = 'â›¶';
        fullscreenBtn.style.opacity = '50%';

        // Calculate dynamic position based on diagram's margin and padding
        const diagramStyle = window.getComputedStyle(mermaidDiv);
        const marginTop = parseFloat(diagramStyle.marginTop) || 0;
        const marginRight = parseFloat(diagramStyle.marginRight) || 0;
        const paddingTop = parseFloat(diagramStyle.paddingTop) || 0;
        const paddingRight = parseFloat(diagramStyle.paddingRight) || 0;
        fullscreenBtn.style.top = `${marginTop + paddingTop + 4}px`;
        fullscreenBtn.style.right = `${marginRight + paddingRight + 4}px`;

        fullscreenBtn.addEventListener('click', () => {
            previousScrollOffset = [window.scroll, window.scrollY];
            const clone = mermaidDiv.cloneNode(true);
            modalContent.innerHTML = '';
            modalContent.appendChild(clone);

            const svg = clone.querySelector('svg');
            if (svg) {
                svg.removeAttribute('width');
                svg.removeAttribute('height');
                svg.style.width = '100%';
                svg.style.height = 'auto';
                svg.style.maxWidth = '100%';
                svg.style.sdisplay = 'block';

                if ("True" === "True") {
                    setTimeout(() => {
                        const g = svg.querySelector('g');
                        if (g) {
                            var svgD3 = d3.select(svg);
                            svgD3.html("<g class='wrapper'>" + svgD3.html() + "</g>");
                            var inner = svgD3.select("g");
                            var zoom = d3.zoom().on("zoom", function(event) {
                                inner.attr("transform", event.transform);
                            });
                            svgD3.call(zoom);
                        }
                    }, 100);
                }
            }

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        container.appendChild(fullscreenBtn);
        allButtons.push(fullscreenBtn);
    });

    // Update theme classes when theme changes
    const updateTheme = () => {
        const dark = isDarkTheme();
        allButtons.forEach(btn => {
            if (dark) {
                btn.classList.add('dark-theme');
            } else {
                btn.classList.remove('dark-theme');
            }
        });
        if (dark) {
            modal.classList.add('dark-theme');
            modalContent.classList.add('dark-theme');
            closeBtn.classList.add('dark-theme');
        } else {
            modal.classList.remove('dark-theme');
            modalContent.classList.remove('dark-theme');
            closeBtn.classList.remove('dark-theme');
        }
    };

    // Watch for theme changes
    const observer = new MutationObserver(updateTheme);
    observer.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['class', 'style', 'data-theme']
    });
    observer.observe(document.body, {
        attributes: true,
        attributeFilter: ['class', 'style']
    });
};

window.addEventListener("load", load);
</script>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@ftnext">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ftnext.github.io/2025-slides/pyconjp/stdlib-logging-kata.html">
    <meta property="og:title" content="æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã€ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã‚ˆã†ï¼">
    <meta property="og:description" content="PyCon JP 2025">
    <meta property="og:image" content="https://ftnext.github.io/2025-slides/_static/ogps/pyconjp.png">

  </head><body>
    <div class="reveal">
        <div class="slides" role="main">
            <section>
<section>
<h1 style="word-break: keep-all; overflow-wrap: break-word;">æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã€ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã‚ˆã†ï¼</h1>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã€ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã‚ˆã†ï¼</h2>
<dl class="field-list simple">
<dt class="field-odd">Event<span class="colon">:</span></dt>
<dd class="field-odd"><p>PyCon JP 2025ï¼ˆåºƒå³¶ï¼‰ <code class="docutils literal notranslate"><span class="pre">#pyconjp_3</span></code></p>
</dd>
<dt class="field-even">Presented<span class="colon">:</span></dt>
<dd class="field-even"><p>2025/09/27 nikkie</p>
</dd>
</dl>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">çš†ã•ã‚“ã€<strong>è‡ªä¿¡</strong> ã‚’æŒã£ã¦æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã‚’ä½¿ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ</h3>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç†è§£ã—ã¾ã—ã‚‡ã†ï¼ï¼ˆTakeawayï¼‰</h3>
<ul class="simple">
<li><p><em>ãƒ­ã‚¬ãƒ¼</em>ã€<em>ãƒãƒ³ãƒ‰ãƒ©</em> ã¨ã„ã£ãŸæ§‹æˆè¦ç´ ã‚’ç†è§£ã™ã‚‹</p></li>
<li><p>æ§‹æˆè¦ç´ ã‚’ <strong>çµ„åˆã›</strong> ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã™ã‚‹</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ï¼ˆIMOï¼‰</h3>
<ul class="simple">
<li><p>easyï¼ˆç†è§£ã—ã‚„ã™ã„ï¼‰ã¨ã„ã†æ„å‘³ã§ãªãã€ <strong>å˜ç´”</strong> ã¨ã„ã†æ„å‘³ã§ã®simple</p></li>
<li><p>ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«ã€å˜ç´”ãªã‚‚ã®ã‚’ <strong>çµ„åˆã›ã¦è¤‡é›‘ãªã‚‚ã®</strong> ã‚’ä½œã‚Œã‚‹ <a class="footnote-reference brackets" href="#ooc-talk" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
<li><p>Pythonã«è¦‹ã‚‹simpleï¼šZen <a class="footnote-reference brackets" href="#zen-of-python-simple" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> ã€loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="ooc-talk" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id3" role="doc-backlink">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://ftnext.github.io/2024-slides/ooc/software-lessons.html#/6" rel="noreferrer" target="_blank">OOC 2024ã§ã‚‚ã£ã¨è©±ã—ã¾ã—ãŸ</a></p>
</aside>
<aside class="footnote brackets" id="zen-of-python-simple" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id4" role="doc-backlink">2</a><span class="fn-bracket">]</span></span>
<p><em>Simple is better than complex.</em> ï¼ˆ<a class="reference external" href="https://peps.python.org/pep-0020/" rel="noreferrer" target="_blank">The Zen of Python</a>ï¼‰</p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">æœ¬ãƒˆãƒ¼ã‚¯ã®å¯¾è±¡è€…</h3>
<ul class="simple">
<li><p>å‰æï¼š<strong>Pythonã§ãƒ­ã‚®ãƒ³ã‚°ã‚’å®Ÿè£…ã—ãŸçµŒé¨“</strong> ã‚ã‚Š</p></li>
<li><p>loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½¿ç”¨çµŒé¨“ã¯å•ã„ã¾ã›ã‚“</p></li>
<li><p>ã€Œloggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã„ã¾ã„ã¡ã‚ã‹ã‚‰ãªã„ã‚“ã ã‚ˆãª...ã€ã€ã©ã‚“ã´ã—ã‚ƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã§ã™ï¼</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãŠå‰ã€èª°ã‚ˆ</h3>
<ul class="simple">
<li><p>nikkie ï¼ nikkie ï¼ <span class="fab fa-github"></span> <a class="reference external" href="https://github.com/ftnext" rel="noreferrer" target="_blank">@ftnext</a> / Pythonæ­´8å¹´</p></li>
<li><p>æ©Ÿæ¢°å­¦ç¿’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ»LLMãƒ»è‡ªç„¶è¨€èªå‡¦ç†ï¼ˆ<a class="reference external" href="https://hrmos.co/pages/uzabase/jobs/1829077236709650481" rel="noreferrer" target="_blank">We're hiring!</a>ï¼‰</p></li>
<li><p>LLMã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã§ã€ <strong>LLMã®å…¥å‡ºåŠ›ã‚’ãƒ­ã‚®ãƒ³ã‚°</strong> ã—ã¦ã™ã¹ã¦ã‚’åˆ†ã‹ã‚ŠãŸã„ï¼ˆæŸç¸›ç³»ï¼‰</p></li>
</ul>
<img alt="../_images/uzabase-white-logo.png" src="../_images/uzabase-white-logo.png"/>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">5ç« æ§‹æˆ <a class="footnote-reference brackets" href="#chapter" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></h3>
<ol class="arabic simple">
<li><p>loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ§‹æˆè¦ç´ </p></li>
<li><p>ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«</p></li>
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¸ã® <em>ä¼æ’­</em> ï¼ˆ<strong>çµ„åˆã›ãŸãƒ­ã‚®ãƒ³ã‚°</strong>ï¼‰</p></li>
<li><p>ç¾å®Ÿä¸–ç•Œã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ­ã‚®ãƒ³ã‚°å®Ÿè£…ã¸ã®å¯¾å‡¦</p></li>
<li><p>è½ç©‚æ‹¾ã„</p></li>
</ol>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="chapter" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id7" role="doc-backlink">3</a><span class="fn-bracket">]</span></span>
<p>ç« ã§æ§‹æˆã—ãŸã®ã¯ã€æœ€è¿‘æ¨ã—ã¦ã‚‹æ˜ ç”»ã€<a class="reference external" href="https://sh-anime.shochiku.co.jp/alice-movie/" rel="noreferrer" target="_blank">ä¸æ€è­°ã®å›½ã§ã‚¢ãƒªã‚¹ã¨</a>ã€ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã§ã™</p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Chapter 1: loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ§‹æˆè¦ç´  <a class="footnote-reference brackets" href="#chapter1-base" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></h2>
<ul class="simple">
<li><p>ãƒ­ã‚¬ãƒ¼</p></li>
<li><p>ãƒãƒ³ãƒ‰ãƒ©</p></li>
<li><p>ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿</p></li>
<li><p>ãƒ•ã‚£ãƒ«ã‚¿</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="chapter1-base" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id9" role="doc-backlink">4</a><span class="fn-bracket">]</span></span>
<p>å…ƒã«ã—ãŸæ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/configure-python-librarys-logger" rel="noreferrer" target="_blank">Pythonã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç”¨æ„ã•ã‚ŒãŸãƒ­ã‚¬ãƒ¼ã‚’è¨­å®šã—ã¦ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">HTTPXã‚’ä¾‹ã« <strong>å®Ÿéš›ã®ãƒ­ã‚°ã‚’è¦‹ãªãŒã‚‰</strong> <a class="footnote-reference brackets" href="#pep723" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> æ§‹æˆè¦ç´ ã‚’ç´¹ä»‹</h3>
<div class="literal-block-wrapper docutils container" id="id106">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/9a87155e4d4923ba0e957a7e2e9e1c9cdd91cd73/samplecode/python-logging/library_logger/httpx_logging.py" rel="noreferrer" target="_blank">ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</a> <a class="footnote-reference brackets" href="#logging-percent-format" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a></span></div>
<pre><code class="python" data-noescape="" data-trim="">import httpx
from rich.pretty import pprint

resp = httpx.get("https://peps.python.org/api/peps.json")
data = resp.json()
pprint([(k, v["title"]) for k, v in data.items()][:10])
</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="pep723" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id10" role="doc-backlink">5</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://2024.pycon.jp/ja/talk/89F3RQ" rel="noreferrer" target="_blank">PyCon JP 2024 ã§è©±ã—ãŸ inline script metadata</a> ã‚’ä½¿ã£ã¦ã„ã¾ã™</p>
</aside>
<aside class="footnote brackets" id="logging-percent-format" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id11" role="doc-backlink">6</a><span class="fn-bracket">]</span></span>
<p>ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«é™ã£ã¦ã¯ã€f-stringã‚ˆã‚Šã‚‚ <code class="docutils literal notranslate"><span class="pre">%s</span></code> ã§å¤‰æ•°ã‚’åŸ‹ã‚ã‚‹ã®ãŒæ¨å¥¨ã§ã™ï¼ˆ<a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/hey-claude-dont-use-f-string-in-logging-messages" rel="noreferrer" target="_blank">æ‹™ãƒ–ãƒ­ã‚°</a>ã€‚t-stringã¯è©±ãŒé•ã†ã£ã½ã„ï¼Ÿï¼‰</p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼</h2>
<ul class="simple">
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <strong>ä½œè€…</strong> ã¯ãƒ­ã‚¬ãƒ¼ã‚’ä½¿ã£ã¦ <strong>ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²</strong> ã™ã‚‹</p></li>
<li><p>ã‚¤ãƒ™ãƒ³ãƒˆã®é‡è¦æ€§ï¼ˆãƒ¬ãƒ™ãƒ«ï¼‰ + ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">HTTPXã®ä¸­ã«ã‚ã‚‹ãƒ­ã‚®ãƒ³ã‚°</h3>
<div class="literal-block-wrapper docutils container" id="id107">
<div class="code-block-caption"><span class="caption-text">INFOãƒ¬ãƒ™ãƒ«ã§HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¨˜éŒ² <a class="footnote-reference brackets" href="#httpx-logger-info-line" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a></span></div>
<pre><code class="python" data-noescape="" data-trim="">class Client(BaseClient):
    def _send_single_request(self, request: Request) -&gt; Response:
        logger.info(
            'HTTP Request: %s %s "%s %d %s"',
            request.method,
            request.url,
            response.http_version,
            response.status_code,
            response.reason_phrase,
        )</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="httpx-logger-info-line" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id14" role="doc-backlink">7</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/encode/httpx/blob/0.28.1/httpx/_client.py#L1025" rel="noreferrer" target="_blank">https://github.com/encode/httpx/blob/0.28.1/httpx/_client.py#L1025</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚°ã®ãƒ¬ãƒ™ãƒ« <a class="footnote-reference brackets" href="#level-table-ref" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a></h3>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="level-table-ref" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id15" role="doc-backlink">8</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#when-to-use-logging" rel="noreferrer" target="_blank">logging ã‚’ä½¿ã†ã¨ãï¼ˆåŸºæœ¬ logging ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ï¼‰</a></p>
</aside>
</aside>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ãƒ¬ãƒ™ãƒ«</p></td>
<td><p>ãƒ¡ã‚½ãƒƒãƒ‰</p></td>
<td><p>ã„ã¤ä½¿ã†ã‹</p></td>
</tr>
<tr class="row-even"><td><p>DEBUG</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">debug()</span></code></p></td>
<td><p>ãŠã‚‚ã«å•é¡Œã‚’è¨ºæ–­ã™ã‚‹ã¨ãã«ã®ã¿é–¢å¿ƒãŒã‚ã‚‹ã‚ˆã†ãªã€è©³ç´°ãªæƒ…å ±ã€‚</p></td>
</tr>
<tr class="row-odd"><td><p>INFO</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">info()</span></code></p></td>
<td><p>æƒ³å®šã•ã‚ŒãŸé€šã‚Šã®ã“ã¨ãŒèµ·ã“ã£ãŸã“ã¨ã®ç¢ºèªã€‚</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>WARNING</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">warning()</span></code></p></td>
<td><p>æƒ³å®šå¤–ã®ã“ã¨ãŒèµ·ã“ã£ãŸã€ã¾ãŸã¯å•é¡ŒãŒè¿‘ãèµ·ã“ã‚Šãã†ã§ã‚ã‚‹ã“ã¨ã®è¡¨ç¤ºã€‚</p></td>
</tr>
<tr class="row-even"><td><p>ERROR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">error()</span></code></p></td>
<td><p>ã‚ˆã‚Šé‡å¤§ãªå•é¡Œã«ã‚ˆã‚Šã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒã‚ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè¡Œã§ããªã„ã“ã¨ã€‚</p></td>
</tr>
<tr class="row-odd"><td><p>CRITICAL</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">critical()</span></code></p></td>
<td><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ è‡ªä½“ãŒå®Ÿè¡Œã‚’ç¶šã‘ã‚‰ã‚Œãªã„ã“ã¨ã‚’è¡¨ã™ã€é‡å¤§ãªã‚¨ãƒ©ãƒ¼ã€‚</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã®å–å¾—ã« <a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.getLogger" rel="noreferrer" target="_blank">logging.getLogger()</a></h3>
<div class="literal-block-wrapper docutils container" id="id108">
<div class="code-block-caption"><span class="caption-text">httpxãƒ­ã‚¬ãƒ¼ã‚’å–å¾— <a class="footnote-reference brackets" href="#httpx-get-logger-line" id="id18" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a></span></div>
<pre><code class="python" data-noescape="" data-trim="">logger = logging.getLogger("httpx")</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="httpx-get-logger-line" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a href="#id18" role="doc-backlink">1</a>,<a href="#id35" role="doc-backlink">2</a>)</span>
<p><a class="reference external" href="https://github.com/encode/httpx/blob/0.28.1/httpx/_client.py#L117" rel="noreferrer" target="_blank">https://github.com/encode/httpx/blob/0.28.1/httpx/_client.py#L117</a></p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <strong>ãƒ¦ãƒ¼ã‚¶</strong> ãŒãƒ­ã‚°ã‚’ <strong>è¦‹ã‚‹</strong> ã«ã¯</h2>
<div class="literal-block-wrapper docutils container" id="id109">
<div class="code-block-caption"><span class="caption-text">ã“ã®INFOãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚°ã‚’è¦‹ãŸã„</span></div>
<pre><code class="python" data-noescape="" data-trim="">logger = logging.getLogger("httpx")

class Client(BaseClient):
    def _send_single_request(self, request: Request) -&gt; Response:
        logger.info(
            'HTTP Request: %s %s "%s %d %s"',
            request.method,
            request.url,
            response.http_version,
            response.status_code,
            response.reason_phrase,
        )</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">HTTPXã«ä»•è¾¼ã¾ã‚ŒãŸãƒ­ã‚°ã‚’è¦‹ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰</h3>
<div class="literal-block-wrapper docutils container" id="id110">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/9a87155e4d4923ba0e957a7e2e9e1c9cdd91cd73/samplecode/python-logging/library_logger/httpx_logging.py" rel="noreferrer" target="_blank">ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">httpx_logger = logging.getLogger("httpx")
httpx_logger.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
httpx_logger.addHandler(console_handler)
</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">1ï¸âƒ£ ãƒ¦ãƒ¼ã‚¶ã‚‚ãƒ­ã‚¬ãƒ¼ã‚’å–å¾—</h3>
<ul class="simple">
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¦ãƒ¼ã‚¶ã‚‚éƒ½åº¦ <code class="docutils literal notranslate"><span class="pre">getLogger</span></code> <a class="footnote-reference brackets" href="#singleton" id="id22" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a></p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="singleton" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id22" role="doc-backlink">10</a><span class="fn-bracket">]</span></span>
<p>ãƒ­ã‚¬ãƒ¼ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/howto/logging-cookbook.html#using-loggers-as-attributes-in-a-class-or-passing-them-as-parameters" rel="noreferrer" target="_blank">ã€Œé¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³ã€ã®ã€Œãƒ­ã‚¬ãƒ¼ã‚’ã‚¯ãƒ©ã‚¹ã®å±æ€§ã«ã™ã‚‹ã‹ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§æ¸¡ã™ã€</a>ï¼‰</p>
</aside>
</aside>
<pre data-id="id21"><code class="python" data-line-numbers="1" data-noescape="" data-trim="">httpx_logger = logging.getLogger("httpx")
httpx_logger.setLevel(logging.DEBUG)
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">2ï¸âƒ£ ãƒ­ã‚¬ãƒ¼ã® <strong>ãƒ¬ãƒ™ãƒ«ã‚’è¨­å®š</strong> - <a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.Logger.setLevel" rel="noreferrer" target="_blank">Logger.setLevel()</a></h3>
<ul class="simple">
<li><p>ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®é‡è¦åº¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨˜éŒ²ã€æœªæº€ã¯ç„¡è¦–</p></li>
<li><p>ä»Šå›ã¯ <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã‚’è¨˜éŒ²ã™ã‚‹ï¼ˆ<code class="docutils literal notranslate"><span class="pre">INFO</span></code> å«ã‚€ï¼‰</p></li>
</ul>
<pre data-id="id23"><code class="python" data-line-numbers="2" data-noescape="" data-trim="">httpx_logger = logging.getLogger("httpx")
httpx_logger.setLevel(logging.DEBUG)
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ“Œãƒ­ã‚¬ãƒ¼ã¯ <strong>è‡ªèº«ã®ãƒ¬ãƒ™ãƒ«ä»¥ä¸Š</strong> ã®é‡è¦åº¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ <strong>è¨˜éŒ²</strong></h3>
<table class="docutils align-default" id="id111">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">WARNING</span></code> ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚¬ãƒ¼ <code class="docutils literal notranslate"><span class="pre">logger</span></code></span></caption>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">logger.warning("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸")</span></code></p></td>
<td><p>è¨˜éŒ²ã™ã‚‹ï¼ˆãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼‰</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">logger.info("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸")</span></code></p></td>
<td><p>ç„¡è¦–</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">3ï¸âƒ£ <strong>å‡ºåŠ›å…ˆ</strong> ã‚’è¨­å®š - ãƒãƒ³ãƒ‰ãƒ©</h3>
<div class="literal-block-wrapper docutils container" id="id112">
<div class="code-block-caption"><span class="caption-text">ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å‡ºåŠ›ã™ã‚‹ãƒãƒ³ãƒ‰ãƒ©ã‚’ãƒ­ã‚¬ãƒ¼ã«å–ã‚Šä»˜ã‘</span></div>
<pre><code class="python" data-line-numbers="1,6" data-noescape="" data-trim="">console_handler = logging.StreamHandler()
detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
httpx_logger.addHandler(console_handler)
</code></pre>
</div>
<div class="literal-block-wrapper docutils container" id="id113">
<div class="code-block-caption"><span class="caption-text">httpxãƒ­ã‚¬ãƒ¼ã«ã‚ˆã‚‹ãƒ­ã‚°ãŒè¦‹ãˆã¾ã™ï¼</span></div>
<pre><code class="txt" data-noescape="" data-trim="">% uv run example.py
HTTP Request: GET https://peps.python.org/api/peps.json "HTTP/1.1 200 OK"</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒãƒ³ãƒ‰ãƒ©ãŒãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å‡ºåŠ›å…ˆã«æŒ¯ã‚Šåˆ†ã‘ã‚‹</h3>
<ul class="simple">
<li><p>ã‚¹ãƒˆãƒªãƒ¼ãƒ </p></li>
<li><p>ãƒ•ã‚¡ã‚¤ãƒ«</p></li>
<li><p>ãªã©ãªã©ï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/library/logging.handlers.html" rel="noreferrer" target="_blank">logging.handlers</a>ï¼‰</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">4ï¸âƒ£ <strong>è¦‹ãŸç›®ã®è¨­å®š</strong> - ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿</h3>
<ul class="simple">
<li><p>ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãŒãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã«æ›¸å¼ã‚’é©ç”¨ã—ã€ãã‚Œã‚’ãƒãƒ³ãƒ‰ãƒ©ãŒå‡ºåŠ›</p></li>
</ul>
<pre data-id="id27"><code class="python" data-noescape="" data-trim="">detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">æ›¸å¼ã¯ <strong>ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å±æ€§å</strong> ã‚’æŒ‡å®š</h3>
<pre data-id="id28"><code class="python" data-line-numbers="2" data-noescape="" data-trim="">detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
</code></pre>
<pre data-id="id28"><code class="txt" data-noescape="" data-trim="">2025-09-24 23:38:25,370 | INFO (httpx) | _client.py:_send_single_request:1025 - HTTP Request: GET https://peps.python.org/api/peps.json "HTTP/1.1 200 OK"</code></pre>
<p><a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logrecord-attributes" rel="noreferrer" target="_blank">LogRecord å±æ€§</a></p>
</section>
<section>
<table class="docutils align-default" id="id114">
<caption><span class="caption-text">å±æ€§å</span></caption>
<tbody>
<tr class="row-odd"><td><p>asctime</p></td>
<td><p>ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚åˆ»</p></td>
</tr>
<tr class="row-even"><td><p>levelname</p></td>
<td><p>æ–‡å­—ã®ãƒ­ã‚®ãƒ³ã‚°ãƒ¬ãƒ™ãƒ«</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>ãƒ­ã‚¬ãƒ¼ã®åå‰</p></td>
</tr>
<tr class="row-even"><td><p>filename</p></td>
<td><p>ãƒ•ã‚¡ã‚¤ãƒ«å</p></td>
</tr>
<tr class="row-odd"><td><p>funcName</p></td>
<td><p>é–¢æ•°å</p></td>
</tr>
<tr class="row-even"><td><p>lineno</p></td>
<td><p>è¡Œç•ªå·</p></td>
</tr>
<tr class="row-odd"><td><p>message</p></td>
<td><p>ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">5ï¸âƒ£ ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆã“ã“ã§ã¯åå‰ã ã‘ã€‚3ç« ã§ç™»å ´ï¼‰</h3>
<ul class="simple">
<li><p>ãƒ­ã‚¬ãƒ¼ã‚„ãƒãƒ³ãƒ‰ãƒ©ã«å–ã‚Šä»˜ã‘ã‚‹</p></li>
<li><p>ãƒ•ã‚£ãƒ«ã‚¿ã«ãƒ­ã‚¬ãƒ¼ã®åå‰ã‚’æŒ‡å®šã™ã‚‹</p></li>
<li><p>æŒ‡å®šã—ãŸãƒ­ã‚¬ãƒ¼ã¨ <em>å­ã®ãƒ­ã‚¬ãƒ¼</em> ã®ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã ã‘ã‚’é€šã™</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ã¾ã¨ã‚ğŸ¥Ÿ loggingãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ§‹æˆè¦ç´ </h2>
<ul class="simple">
<li><p>HTTPXã®ãƒ­ã‚°ã‚’è¦‹ãŸ</p></li>
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <strong>ä½œè€…</strong> ãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’ <strong>è¨˜éŒ²</strong></p></li>
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <strong>ãƒ¦ãƒ¼ã‚¶</strong> ãŒ <strong>ãƒ­ã‚°ã‚’è¦‹ã‚‹</strong></p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œè€…ãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²ğŸ¥Ÿ</h3>
<a class="reference internal image-reference" href="../_images/pyconjp-library-creator-logger.drawio.png"><img alt="../_images/pyconjp-library-creator-logger.drawio.png" src="../_images/pyconjp-library-creator-logger.drawio.png" style="width: 225.0px; height: 166.5px;"/>
</a>
<ul class="simple">
<li><p>ã‚¤ãƒ™ãƒ³ãƒˆã® <strong>ãƒ¬ãƒ™ãƒ«</strong> ã¨ <strong>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</strong> ã‚’æŒ‡å®šã—ã¦ã€ãƒ­ã‚¬ãƒ¼ã‚’æ“ä½œ</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¦ãƒ¼ã‚¶ãŒãƒ­ã‚°ã‚’è¦‹ã‚‹ğŸ¥Ÿ</h3>
<a class="reference internal image-reference" href="../_images/pyconjp-library-user-logger.drawio.png"><img alt="../_images/pyconjp-library-user-logger.drawio.png" src="../_images/pyconjp-library-user-logger.drawio.png" style="width: 465.0px; height: 180.0px;"/>
</a>
<ul class="simple">
<li><p>ãƒ­ã‚¬ãƒ¼ã«ãƒ¬ãƒ™ãƒ«ã‚’è¨­å®š</p></li>
<li><p>ãƒ­ã‚¬ãƒ¼ã« <strong>ãƒãƒ³ãƒ‰ãƒ©</strong> ã‚’å–ã‚Šä»˜ã‘ã‚‹</p></li>
<li><p>ãƒãƒ³ãƒ‰ãƒ©ã« <strong>ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿</strong> ã‚’å–ã‚Šä»˜ã‘ã‚‹</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Chapter 2: ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯ã©ã†æ±ºã¾ã‚‹ï¼Ÿ <a class="footnote-reference brackets" href="#chapter2-base" id="id33" role="doc-noteref"><span class="fn-bracket">[</span>11<span class="fn-bracket">]</span></a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="chapter2-base" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id33" role="doc-backlink">11</a><span class="fn-bracket">]</span></span>
<p>åº•æœ¬ã¨ã—ãŸ <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/python-configuring-logging-for-library-log-level-notset" rel="noreferrer" target="_blank">æ‹™ãƒ–ãƒ­ã‚°</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å¾©ç¿’ï¼šãƒ­ã‚¬ãƒ¼ã¯ <strong>è‡ªèº«ã®ãƒ¬ãƒ™ãƒ«ä»¥ä¸Š</strong> ã®é‡è¦åº¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ <strong>è¨˜éŒ²</strong></h3>
<table class="docutils align-default" id="id115">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">INFO</span></code> ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚¬ãƒ¼ <code class="docutils literal notranslate"><span class="pre">logger</span></code></span></caption>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">logger.warning()</span></code></p></td>
<td><p>è¨˜éŒ²</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">logger.info()</span></code></p></td>
<td><p>è¨˜éŒ²</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">logger.debug()</span></code></p></td>
<td><p>ç„¡è¦–</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">â“ <code class="docutils literal notranslate"><span class="pre">httpx</span></code> ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯ï¼Ÿ <a class="footnote-reference brackets" href="#httpx-get-logger-line" id="id35" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a></h3>
<pre data-id="id36"><code class="python" data-noescape="" data-trim="">logger = logging.getLogger("httpx")</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">â“ <code class="docutils literal notranslate"><span class="pre">httpx</span></code> ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INFO</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WARNING</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ERROR</span></code>?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code>?</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><strong>NOTSET</strong></h3>
<blockquote>
<div><p>ãƒ­ã‚¬ãƒ¼ãŒç”Ÿæˆã•ã‚ŒãŸéš›ã€ãƒ¬ãƒ™ãƒ«ã¯ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> (ç•¥) ã«è¨­å®šã•ã‚Œã¾ã™ã€‚</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.Logger.setLevel" rel="noreferrer" target="_blank">Logger.setLevel()</a></p>
<pre data-id="notset"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; import logging
&gt;&gt;&gt; httpx_logger = logging.getLogger("httpx")
&gt;&gt;&gt; logging.getLevelName(httpx_logger.level)
'NOTSET'</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ã¨ã¯</h3>
<blockquote>
<div><p>ã‚‚ã—ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ãŒ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ãªã‚‰ã°ã€ç¥–å…ˆãƒ­ã‚¬ãƒ¼ã®ç³»åˆ—ã®ä¸­ã‚’ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ä»¥å¤–ã®ãƒ¬ãƒ™ãƒ«ã®ç¥–å…ˆã‚’è¦‹ã¤ã‘ã‚‹ã‹ãƒ«ãƒ¼ãƒˆã«åˆ°é”ã™ã‚‹ã¾ã§è¾¿ã£ã¦ã„ãï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.Logger.setLevel" rel="noreferrer" target="_blank">Logger.setLevel()</a>ï¼‰</p>
</div></blockquote>
<p>ç¥–å…ˆãƒ­ã‚¬ãƒ¼ï¼Ÿ</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ“Œãƒ­ã‚¬ãƒ¼ã®éšå±¤æ§‹é€ </h2>
<p>ãƒ­ã‚¬ãƒ¼ã«ã¯ <strong>åå‰ã§æ±ºã¾ã‚‹è¦ªå­é–¢ä¿‚</strong> ãŒã‚ã‚Šã¾ã™</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">åå‰ã¯ <strong>ãƒ‰ãƒƒãƒˆï¼ˆãƒ”ãƒªã‚ªãƒ‰ï¼‰åŒºåˆ‡ã‚Š</strong> ã«ã‚‚ã§ãã‚‹</h3>
<blockquote>
<div><p>ãƒ­ã‚¬ãƒ¼åã¯ã€ä½•ã§ã‚‚æœ›ã‚€ã‚‚ã®ã«ã§ãã€ãƒ­ã‚®ãƒ³ã‚°ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™ºç”Ÿã—ãŸå ´æ‰€ã‚’æŒ‡ã—ç¤ºã—ã¾ã™ã€‚ï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#advanced-logging-tutorial" rel="noreferrer" target="_blank">ä¸Šç´šãƒ­ã‚®ãƒ³ã‚°ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>ï¼‰</p>
</div></blockquote>
<pre data-id="id40"><code class="python" data-noescape="" data-trim="">logging.getLogger("spam")
logging.getLogger("spam.ham")</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã®è¦ªå­é–¢ä¿‚</h3>
<pre data-id="id41"><code class="python" data-noescape="" data-trim="">logger = logging.getLogger("spam.ham")</code></pre>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spam.ham</span></code> ãƒ­ã‚¬ãƒ¼ã® <strong>è¦ª</strong> ã«ã‚ãŸã‚‹ã®ãŒ <code class="docutils literal notranslate"><span class="pre">spam</span></code> ãƒ­ã‚¬ãƒ¼</p></li>
<li><p>ã™ã¹ã¦ã®ãƒ­ã‚¬ãƒ¼ã®è¦ª <em>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼</em> ï¼ˆå¼•æ•°æ¸¡ã•ãš <code class="docutils literal notranslate"><span class="pre">logging.getLogger()</span></code>ï¼‰</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã®è¦ªå­é–¢ä¿‚</h3>
<a class="reference internal image-reference" href="../_images/pyconjp-logger-ancestors.drawio.png"><img alt="../_images/pyconjp-logger-ancestors.drawio.png" src="../_images/pyconjp-logger-ancestors.drawio.png" style="width: 433.2px; height: 361.2px;"/>
</a>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã®åå‰ã« <code class="docutils literal notranslate"><span class="pre">__name__</span></code></h3>
<pre data-id="name"><code class="python" data-noescape="" data-trim="">logger = logging.getLogger(__name__)</code></pre>
<ul class="simple">
<li><p>ã€Œãƒ­ã‚¬ãƒ¼ã«åå‰ã‚’ã¤ã‘ã‚‹ã¨ãã®è‰¯ã„ç¿’æ…£ã€ï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#advanced-logging-tutorial" rel="noreferrer" target="_blank">ä¸Šç´šãƒ­ã‚®ãƒ³ã‚°ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>ï¼‰ <a class="footnote-reference brackets" href="#why-name-good" id="id43" role="doc-noteref"><span class="fn-bracket">[</span>12<span class="fn-bracket">]</span></a></p></li>
<li><p><a class="reference external" href="https://jisou-programmer.beproud.jp/%E3%83%AD%E3%82%AE%E3%83%B3%E3%82%B0/70-%E5%80%8B%E5%88%A5%E3%81%AE%E5%90%8D%E5%89%8D%E3%81%A7%E3%83%AD%E3%82%AC%E3%83%BC%E3%82%92%E4%BD%9C%E3%82%89%E3%81%AA%E3%81%84.html" rel="noreferrer" target="_blank">70:å€‹åˆ¥ã®åå‰ã§ãƒ­ã‚¬ãƒ¼ã‚’ä½œã‚‰ãªã„</a>ã€€ï¼ˆã€<a class="reference external" href="https://gihyo.jp/book/2020/978-4-297-11197-7" rel="noreferrer" target="_blank">è‡ªèµ°ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼</a>ã€ï¼‰</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="why-name-good" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id43" role="doc-backlink">12</a><span class="fn-bracket">]</span></span>
<p>ä¸Šä½ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ­ã‚¬ãƒ¼ã‚’è§¦ã£ã¦ãƒ­ã‚®ãƒ³ã‚°ã‚’è¨­å®šã§ãã‚‹ãŸã‚ã§ã™ã€‚ä»Šæ—¥ã®è©±ã‚‚é©ç”¨å¯èƒ½ã§ã™</p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ’¡ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã‚’å¤‰ãˆã‚‹</h2>
<p>ä¸€ç•ªè¦ªã®ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã‚’å¤‰ãˆã‚‹ã¨ã€å­ã®ãƒ­ã‚¬ãƒ¼ã® <em>ãƒ¬ãƒ™ãƒ«</em> ã‚‚å¤‰ã‚ã‚‹</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å®ŸåŠ¹ãƒ¬ãƒ™ãƒ« <a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.Logger.getEffectiveLevel" rel="noreferrer" target="_blank">getEffectiveLevel()</a></h3>
<blockquote>
<div><p>ãã†ã§ãªã„å ´åˆï¼ˆï¼ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ãƒ¬ãƒ™ãƒ«ãŒè¨­å®šã•ã‚Œã¦ã„ãŸå ´åˆï¼‰ã€ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ä»¥å¤–ã®å€¤ãŒè¦‹ã¤ã‹ã‚‹ã¾ã§ãƒ­ã‚¬ãƒ¼ã®éšå±¤ã‚’ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®æ–¹å‘ã«è¿½è·¡ã—ã¾ã™ã€‚</p>
</div></blockquote>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯ <code class="docutils literal notranslate"><span class="pre">WARNING</span></code></h3>
<pre data-id="warning"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; import logging
&gt;&gt;&gt; root_logger = logging.getLogger()
&gt;&gt;&gt; logging.getLevelName(root_logger.level)
'WARNING'</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¨åŒã˜ <code class="docutils literal notranslate"><span class="pre">WARNING</span></code></h3>
<a class="reference internal image-reference" href="../_images/pyconjp-root-default-warning.drawio.png"><img alt="../_images/pyconjp-root-default-warning.drawio.png" src="../_images/pyconjp-root-default-warning.drawio.png" style="width: 312.0px; height: 253.2px;"/>
</a>
<pre data-id="id46"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; httpx_logger = logging.getLogger("httpx")
&gt;&gt;&gt; logging.getLevelName(httpx_logger.getEffectiveLevel())
'WARNING'</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã‚’å¤‰ãˆã‚‹ã¨</h3>
<pre data-id="id47"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; root_logger.setLevel(logging.DEBUG)
&gt;&gt;&gt; logging.getLevelName(root_logger.level)
'DEBUG'</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å­ã®ãƒ­ã‚¬ãƒ¼ã® <strong>å®ŸåŠ¹ãƒ¬ãƒ™ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆ</strong> ã‚‰ã‚Œã¦ã„ã‚‹</h3>
<a class="reference internal image-reference" href="../_images/pyconjp-root-setlevel-debug.drawio.png"><img alt="../_images/pyconjp-root-setlevel-debug.drawio.png" src="../_images/pyconjp-root-setlevel-debug.drawio.png" style="width: 318.0px; height: 253.2px;"/>
</a>
<pre data-id="id48"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; logging.getLevelName(httpx_logger.getEffectiveLevel())
'DEBUG'</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ã¾ã¨ã‚ğŸ¥Ÿ ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯ã©ã†æ±ºã¾ã‚‹ï¼Ÿ</h2>
<ul>
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯ <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>ä½•ã‚‚ã—ãªã‘ã‚Œã°ã€ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¨åŒã˜ <code class="docutils literal notranslate"><span class="pre">WARNING</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã‚’å¤‰ãˆã‚‹ã¨ã€å­ã®ãƒ­ã‚¬ãƒ¼ã®å®ŸåŠ¹ãƒ¬ãƒ™ãƒ«ã‚‚å¤‰ã‚ã‚‹</strong> ï¼ˆã“ã‚Œã‚’åˆ©ç”¨ğŸ’¡ï¼‰</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Chapter 3: ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚°ã—ã‚ˆã† - propagateï¼ˆä¼æ’­ï¼‰</h2>
<p>ãƒ­ã‚¬ãƒ¼ã®è¦ªå­é–¢ä¿‚ã§é‡è¦ãªã‚‚ã®ã¯ã€<code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ãƒ¬ãƒ™ãƒ«ã®ä»–ã«ã‚‚ã†1ã¤</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã® <a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.Logger.propagate" rel="noreferrer" target="_blank">propagate</a> å±æ€§</h2>
<blockquote>
<div><p>ã“ã®å±æ€§ãŒçœŸã¨è©•ä¾¡ã•ã‚ŒãŸå ´åˆã€ã“ã®ãƒ­ã‚¬ãƒ¼ã«è¨˜éŒ²ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ã“ã®ãƒ­ã‚¬ãƒ¼ã«å–ã‚Šä»˜ã‘ã‚‰ã‚ŒãŸå…¨ã¦ã®ãƒãƒ³ãƒ‰ãƒ©ã«åŠ ãˆã€ä¸Šä½ (ç¥–å…ˆ) ãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã«ã‚‚æ¸¡ã•ã‚Œã¾ã™ã€‚</p>
</div></blockquote>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">getLogger</span></code> ã™ã‚‹ã¨ <code class="docutils literal notranslate"><span class="pre">propagate</span></code> ã¯ <code class="docutils literal notranslate"><span class="pre">True</span></code></h3>
<pre data-id="getlogger-propagate-true"><code class="pycon" data-noescape="" data-trim="">&gt;&gt;&gt; import logging
&gt;&gt;&gt; httpx_logger = logging.getLogger("httpx")
&gt;&gt;&gt; httpx_logger.propagate
True</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã®è¦ªå­é–¢ä¿‚ï¼ˆå†ã³ï¼‰</h3>
<a class="reference internal image-reference" href="../_images/pyconjp-logger-ancestors-part.drawio.png"><img alt="../_images/pyconjp-logger-ancestors-part.drawio.png" src="../_images/pyconjp-logger-ancestors-part.drawio.png" style="width: 229.2px; height: 217.2px;"/>
</a>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">propagateï¼ˆä¼æ’­ï¼‰</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">httpx</span></code> ãƒ­ã‚¬ãƒ¼ã®ãƒ­ã‚®ãƒ³ã‚°ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå‘¼ã°ã‚ŒãŸ</p></li>
<li><p>ãã®ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯ <strong>è¦ªã®ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ä¼æ’­</strong> ã—ã€è¦ªã®ãƒãƒ³ãƒ‰ãƒ©ã«ã‚‚æ¸¡ã‚‹</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">propagateã§ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯ <strong>è¦ªãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã¸</strong></h3>
<a class="reference internal image-reference" href="../_images/pyconjp-logger-propagate-handlers.drawio.png"><img alt="../_images/pyconjp-logger-propagate-handlers.drawio.png" src="../_images/pyconjp-logger-propagate-handlers.drawio.png" style="width: 373.2px; height: 217.2px;"/>
</a>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ“Œä¼æ’­ã§ã¯ <strong>è¦ªãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã¯è¦‹ãªã„</strong> <a class="footnote-reference brackets" href="#reload1" id="id54" role="doc-noteref"><span class="fn-bracket">[</span>13<span class="fn-bracket">]</span></a></h3>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="reload1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>13<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a href="#id54" role="doc-backlink">1</a>,<a href="#id65" role="doc-backlink">2</a>)</span>
<p>èª­ã¿è¾¼ã‚ã¦ãªã•ãã†ãªã‚‰ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã€‚ <a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#logging-flow" rel="noreferrer" target="_blank">Logging Flow</a>  (Logger flow)ã®ç°¡ç•¥ç‰ˆï¼ˆãªãŠçœç•¥ã—ã¾ã—ãŸãŒã€è¦ªãƒ­ã‚¬ãƒ¼ã®ãƒ•ã‚£ãƒ«ã‚¿ã‚‚è¦‹ã¾ã›ã‚“ï¼‰</p>
</aside>
</aside>
<pre class="mermaid" data-zoom-id="id-40d27943-4582-4dd4-88eb-bdefaeea2f0b">
        ---
config:
  themeVariables:
    lineColor: '#fff'

---
flowchart LR
    START[ãƒ­ã‚®ãƒ³ã‚°&lt;br/&gt;å‘¼ã³å‡ºã—] --&gt;|"ä¾‹ logger.info(...)"| cond1{ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®&lt;br/&gt;å‘¼ã³å‡ºã—ã‹};
    cond1 --&gt;|ã¯ã„&lt;br/&gt;=æœ‰åŠ¹| node1[LogRecord&lt;br/&gt;ä½œæˆ];
    node1 --&gt; node2[ç¾åœ¨ã®ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;ãƒãƒ³ãƒ‰ãƒ©ã¸&lt;br/&gt;æ¸¡ã™];
    node2 --&gt; cond3{ç¾åœ¨ã®ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;propagateå±æ€§ã¯&lt;br/&gt;Trueã‹};
    cond3 --&gt;|ã¯ã„=true&lt;br/&gt;=ä¼æ’­ã™ã‚‹| cond4{è¦ªã®ãƒ­ã‚¬ãƒ¼&lt;br/&gt;ã¯ã‚ã‚‹ã‹};
    cond4 --&gt;|ã¯ã„=è¦ªãƒ­ã‚¬ãƒ¼&lt;br/&gt;ãŒã‚ã‚‹| node3[è¦ªãƒ­ã‚¬ãƒ¼ã‚’ç¾åœ¨ã®&lt;br/&gt;ãƒ­ã‚¬ãƒ¼ã¨ã™ã‚‹];
    node3 --&gt; node2;

    </pre><p>å³å´ã®ãƒ«ãƒ¼ãƒ—ã§ã€è¦ªãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ã‚’è¦‹ã¦ã„ã¾ã›ã‚“</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ’¡ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ãƒãƒ³ãƒ‰ãƒ©ã‚’ã¤ã‘ã‚Œã°ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ï¼</h2>
<div class="literal-block-wrapper docutils container" id="id116">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/6f6b360b8b884f5dce9b62e2cd37055c0313db25/samplecode/python-logging/library_logger/root_logging_hard.py" rel="noreferrer" target="_blank">æœ¬ãƒˆãƒ¼ã‚¯ã§ç¤ºã™ãƒ­ã‚®ãƒ³ã‚°ã®1ã¤ã®å‹</a></span></div>
<pre><code class="python" data-line-numbers="1,4,9" data-noescape="" data-trim="">root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
root_logger.addHandler(console_handler)
</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒãƒ³ãƒ‰ãƒ©ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’ã¨ã‚Šã¤ã‘</h3>
<pre data-id="id57"><code class="python" data-line-numbers="4,5,6,7,8" data-noescape="" data-trim="">root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
root_logger.addHandler(console_handler)
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><strong>å…¨ã¦</strong> ã®ãƒ­ã‚¬ãƒ¼ã®ãƒ­ã‚°å‡ºåŠ› <a class="footnote-reference brackets" href="#httpx-guide-logging" id="id58" role="doc-noteref"><span class="fn-bracket">[</span>14<span class="fn-bracket">]</span></a></h3>
<div class="literal-block-wrapper docutils container" id="id117">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">httpx</span></code> ãƒ­ã‚¬ãƒ¼ã‚‚ <code class="docutils literal notranslate"><span class="pre">httpcore</span></code> ãƒ­ã‚¬ãƒ¼ã‚‚å®ŸåŠ¹ãƒ¬ãƒ™ãƒ«ãŒ <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code></span></div>
<pre><code class="default" data-noescape="" data-trim="">2025-09-25 00:21:51,724 | DEBUG (httpcore.connection) | _trace.py:trace:47 - connect_tcp.started host='peps.python.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-25 00:21:51,775 | DEBUG (httpcore.connection) | _trace.py:trace:47 - connect_tcp.complete return_value=&lt;httpcore._backends.sync.SyncStream object at 0x104ed2c50&gt;
2025-09-25 00:21:51,775 | DEBUG (httpcore.connection) | _trace.py:trace:47 - start_tls.started ssl_context=&lt;ssl.SSLContext object at 0x105433020&gt; server_hostname='peps.python.org' timeout=5.0
2025-09-25 00:21:51,795 | DEBUG (httpcore.connection) | _trace.py:trace:47 - start_tls.complete return_value=&lt;httpcore._backends.sync.SyncStream object at 0x1056354d0&gt;
2025-09-25 00:21:51,795 | DEBUG (httpcore.http11) | _trace.py:trace:47 - send_request_headers.started request=&lt;Request [b'GET']&gt;
2025-09-25 00:21:51,795 | DEBUG (httpcore.http11) | _trace.py:trace:47 - send_request_headers.complete
2025-09-25 00:21:51,795 | DEBUG (httpcore.http11) | _trace.py:trace:47 - send_request_body.started request=&lt;Request [b'GET']&gt;
2025-09-25 00:21:51,795 | DEBUG (httpcore.http11) | _trace.py:trace:47 - send_request_body.complete
2025-09-25 00:21:51,795 | DEBUG (httpcore.http11) | _trace.py:trace:47 - receive_response_headers.started request=&lt;Request [b'GET']&gt;
2025-09-25 00:21:51,984 | DEBUG (httpcore.http11) | _trace.py:trace:47 - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'55103'), (b'Server', b'GitHub.com'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Last-Modified', b'Wed, 24 Sep 2025 07:35:56 GMT'), (b'Access-Control-Allow-Origin', b'*'), (b'ETag', b'W/"68d39f5c-608b4"'), (b'expires', b'Wed, 24 Sep 2025 14:48:25 GMT'), (b'Cache-Control', b'max-age=600'), (b'Content-Encoding', b'gzip'), (b'x-proxy-cache', b'MISS'), (b'X-GitHub-Request-Id', b'2DE8:A7B6E:48D19B:4D3D5F:68D40260'), (b'Via', b'1.1 varnish, 1.1 varnish'), (b'X-Fastly-Request-ID', b'f2e5f538ee8eb9b0521c0076beb66f992dee747e'), (b'Fastly-Debug-States', b'DELIVER'), (b'Accept-Ranges', b'bytes'), (b'Age', b'0'), (b'Date', b'Wed, 24 Sep 2025 15:21:51 GMT'), (b'X-Served-By', b'cache-tyo11951-TYO, cache-tyo11950-TYO'), (b'X-Cache', b'MISS, HIT'), (b'X-Cache-Hits', b'0, 0'), (b'X-Timer', b'S1758727312.797979,VS0,VE173'), (b'Vary', b'Accept-Encoding'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload')])
2025-09-25 00:21:51,984 | INFO (httpx) | _client.py:_send_single_request:1025 - HTTP Request: GET https://peps.python.org/api/peps.json "HTTP/1.1 200 OK"
2025-09-25 00:21:51,984 | DEBUG (httpcore.http11) | _trace.py:trace:47 - receive_response_body.started request=&lt;Request [b'GET']&gt;
2025-09-25 00:21:52,006 | DEBUG (httpcore.http11) | _trace.py:trace:47 - receive_response_body.complete
2025-09-25 00:21:52,006 | DEBUG (httpcore.http11) | _trace.py:trace:47 - response_closed.started
2025-09-25 00:21:52,006 | DEBUG (httpcore.http11) | _trace.py:trace:47 - response_closed.complete
2025-09-25 00:21:52,006 | DEBUG (httpcore.connection) | _trace.py:trace:47 - close.started
2025-09-25 00:21:52,006 | DEBUG (httpcore.connection) | _trace.py:trace:47 - close.complete
</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="httpx-guide-logging" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id58" role="doc-backlink">14</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.python-httpx.org/logging/" rel="noreferrer" target="_blank">https://www.python-httpx.org/logging/</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ° <a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.basicConfig" rel="noreferrer" target="_blank">logging.basicConfig()</a> ã§ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’ç°¡å˜ã«è¨­å®š</h3>
<pre data-id="id60"><code class="python" data-noescape="" data-trim="">logging.basicConfig(
    level=logging.DEBUG,
    format="%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s",
)
</code></pre>
<ul class="simple">
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ãƒãƒ³ãƒ‰ãƒ©è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ <code class="docutils literal notranslate"><span class="pre">StreamHandler</span></code>ï¼‰</p></li>
<li><p>ãã®ãƒãƒ³ãƒ‰ãƒ©ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚‚è¨­å®šï¼ˆ<code class="docutils literal notranslate"><span class="pre">format</span></code> å¼•æ•°ï¼‰</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å¤šã„å‡ºåŠ›ã«ã¯ã€ãƒ•ã‚£ãƒ«ã‚¿</h3>
<ul class="simple">
<li><p>ï¼ˆãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ã¯ãªãï¼‰ <strong>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã«ãƒ•ã‚£ãƒ«ã‚¿</strong> ã‚’è¨­å®š</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">httpx</span></code> ãƒ­ã‚¬ãƒ¼ã«ã‚ˆã‚‹ãƒ­ã‚°ã ã‘ã‚’å‡ºåŠ›</p></li>
</ul>
<pre data-id="id61"><code class="python" data-noescape="" data-trim="">console_handler.addFilter(logging.Filter("httpx"))
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãªãœãƒãƒ³ãƒ‰ãƒ©ã«ãƒ•ã‚£ãƒ«ã‚¿ã‚’ã¤ã‘ã‚‹ï¼Ÿ <a class="footnote-reference brackets" href="#reload2" id="id62" role="doc-noteref"><span class="fn-bracket">[</span>15<span class="fn-bracket">]</span></a></h3>
<pre class="mermaid">
        ---
config:
  themeVariables:
    lineColor: '#fff'

---
flowchart LR
    START[ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰&lt;br/&gt;ãŒæ¸¡ã‚‹] --&gt; cond1{ãƒãƒ³ãƒ‰ãƒ©ã®&lt;br/&gt;ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®&lt;br/&gt;å‘¼ã³å‡ºã—ã‹};
    cond1 --&gt;|ã¯ã„&lt;br/&gt;=æœ‰åŠ¹| cond2[ãƒãƒ³ãƒ‰ãƒ©ã®&lt;br/&gt;ãƒ•ã‚£ãƒ«ã‚¿ã¯&lt;br/&gt;å´ä¸‹ã™ã‚‹ã‹];
    cond1 --&gt;|ã„ã„ãˆ&lt;br/&gt;| END[åœæ­¢];
    cond2 --&gt;|ã„ã„ãˆ&lt;br/&gt;=é€šé| node1[æ’å‡ºï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿è¾¼ã¿ï¼‰];
    cond2 --&gt;|ã¯ã„&lt;br/&gt;| END[åœæ­¢];

    </pre><p><strong>ãƒãƒ³ãƒ‰ãƒ©ã®ãƒ¬ãƒ™ãƒ«ã¨ãƒ•ã‚£ãƒ«ã‚¿</strong> ã¯ç¢ºèªã•ã‚Œã‚‹</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="reload2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id62" role="doc-backlink">15</a><span class="fn-bracket">]</span></span>
<p>èª­ã¿è¾¼ã‚ã¦ãªã•ãã†ãªã‚‰ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã€‚ <a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#logging-flow" rel="noreferrer" target="_blank">Logging Flow</a> (Handler flow)</p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ä¼æ’­ã§ã¯è¦ªãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«ï¼ˆã¨ãƒ•ã‚£ãƒ«ã‚¿ï¼‰ã¯è¦‹ãªã„</h3>
<pre class="mermaid" data-zoom-id="id-1f0961b4-db4e-4137-a3ff-28731d1e35a7">
        ---
config:
  themeVariables:
    lineColor: '#fff'

---
flowchart LR
    START[ãƒ­ã‚®ãƒ³ã‚°&lt;br/&gt;å‘¼ã³å‡ºã—] --&gt;|"ä¾‹ logger.info(...)"| cond1{ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;ãƒ¬ãƒ™ãƒ«ä»¥ä¸Šã®&lt;br/&gt;å‘¼ã³å‡ºã—ã‹};
    cond1 --&gt;|ã¯ã„&lt;br/&gt;=æœ‰åŠ¹| node1[LogRecord&lt;br/&gt;ä½œæˆ];
    node1 --&gt; node2[ç¾åœ¨ã®ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;ãƒãƒ³ãƒ‰ãƒ©ã¸&lt;br/&gt;æ¸¡ã™];
    node2 --&gt; cond3{ç¾åœ¨ã®ãƒ­ã‚¬ãƒ¼ã®&lt;br/&gt;propagateå±æ€§ã¯&lt;br/&gt;Trueã‹};
    cond3 --&gt;|ã¯ã„=true&lt;br/&gt;=ä¼æ’­ã™ã‚‹| cond4{è¦ªã®ãƒ­ã‚¬ãƒ¼&lt;br/&gt;ã¯ã‚ã‚‹ã‹};
    cond4 --&gt;|ã¯ã„=è¦ªãƒ­ã‚¬ãƒ¼&lt;br/&gt;ãŒã‚ã‚‹| node3[è¦ªãƒ­ã‚¬ãƒ¼ã‚’ç¾åœ¨ã®&lt;br/&gt;ãƒ­ã‚¬ãƒ¼ã¨ã™ã‚‹];
    node3 --&gt; node2;

    </pre><ul class="simple">
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒ•ã‚£ãƒ«ã‚¿ã¯è¦‹ãªã„ï¼ˆå†æ²ã—ãŸå›³ï¼‰ <a class="footnote-reference brackets" href="#reload1" id="id65" role="doc-noteref"><span class="fn-bracket">[</span>13<span class="fn-bracket">]</span></a></p></li>
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã® <strong>ãƒãƒ³ãƒ‰ãƒ©ã®ãƒ•ã‚£ãƒ«ã‚¿</strong> ã¯è¦‹ã‚‹ï¼ˆå‰é ï¼‰</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ã¾ã¨ã‚ğŸ¥Ÿ ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚°</h2>
<ul class="simple">
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆä¾‹ï¼šHTTPXï¼‰ã®ãƒ­ã‚¬ãƒ¼ã®å®ŸåŠ¹ãƒ¬ãƒ™ãƒ«ã¯ã€ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¨åŒã˜ï¼ˆ<code class="docutils literal notranslate"><span class="pre">NOTSET</span></code>ï¼‰</p></li>
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ­ã‚¬ãƒ¼ã¯ <code class="docutils literal notranslate"><span class="pre">propagate=True</span></code> ï¼ˆãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ä¼æ’­ï¼‰</p></li>
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã« <strong>ãƒãƒ³ãƒ‰ãƒ©ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ã‚’å–ã‚Šä»˜ã‘</strong> ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ï¼</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚°ã®ä¾‹ <a class="footnote-reference brackets" href="#appendix-note" id="id67" role="doc-noteref"><span class="fn-bracket">[</span>16<span class="fn-bracket">]</span></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ã¨ <code class="docutils literal notranslate"><span class="pre">propagate</span></code> ã‚’ä½¿ã£ãŸ <strong>2ä¾‹</strong> ç´¹ä»‹</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="appendix-note" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id67" role="doc-backlink">16</a><span class="fn-bracket">]</span></span>
<p>æœ¬ç™ºè¡¨ã¯ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®è¨­å®šã§è©±ã—ã¾ã™ãŒã€ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ä»£ã‚ã‚Šã«ã€ç‰¹å®šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚¬ãƒ¼ã«è¨­å®šã—ã¦ã‚‚åŒã˜è­°è«–ã¨æ€ã„ã¾ã™</p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ä¾‹1ï¸âƒ£ ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã« <strong>è¤‡æ•°ãƒãƒ³ãƒ‰ãƒ©</strong></h2>
<p>ä¾‹ã€Œ<code class="docutils literal notranslate"><span class="pre">INFO</span></code> ä»¥ä¸Šã¯ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ­ã‚®ãƒ³ã‚°ã€<code class="docutils literal notranslate"><span class="pre">ERROR</span></code> ä»¥ä¸Šã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚‚å‡ºåŠ›ã€</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ERROR</span></code> ãƒ¬ãƒ™ãƒ«ã® <code class="docutils literal notranslate"><span class="pre">StreamHandler</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INFO</span></code> ãƒ¬ãƒ™ãƒ«ã® <code class="docutils literal notranslate"><span class="pre">FileHandler</span></code></p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> ä»¥ä¸Šã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ã€<code class="docutils literal notranslate"><span class="pre">INFO</span></code> ä»¥ä¸Šã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«</h3>
<div class="literal-block-wrapper docutils container" id="id118">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/f3901a2f5d7fa3bdf3f11e0c83c515781d51c116/samplecode/python-logging/library_logger/root_logging_multi_handlers.py" rel="noreferrer" target="_blank">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«è¤‡æ•°ãƒãƒ³ãƒ‰ãƒ©ã®ä¾‹</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)

console_handler = logging.StreamHandler()
console_handler.setLevel(logging.INFO)
console_handler.setFormatter(detailed_formatter)

rotate_handler = logging.handlers.TimedRotatingFileHandler(
    "app.log", when="D", backupCount=7, encoding="utf-8"
)
rotate_handler.setLevel(logging.DEBUG)
rotate_handler.setFormatter(detailed_formatter)

root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)
root_logger.addHandler(console_handler)
root_logger.addHandler(rotate_handler)
</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> ä»¥ä¸Šã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«</h3>
<pre data-id="debug"><code class="python" data-line-numbers="9,10,11,12,13" data-noescape="" data-trim="">detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)

console_handler = logging.StreamHandler()
console_handler.setLevel(logging.INFO)
console_handler.setFormatter(detailed_formatter)

rotate_handler = logging.handlers.TimedRotatingFileHandler(
    "app.log", when="D", backupCount=7, encoding="utf-8"
)
rotate_handler.setLevel(logging.DEBUG)
rotate_handler.setFormatter(detailed_formatter)

root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)
root_logger.addHandler(console_handler)
root_logger.addHandler(rotate_handler)
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">INFO</span></code> ä»¥ä¸Šã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«</h3>
<pre data-id="info"><code class="python" data-line-numbers="5,6,7" data-noescape="" data-trim="">detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)

console_handler = logging.StreamHandler()
console_handler.setLevel(logging.INFO)
console_handler.setFormatter(detailed_formatter)

rotate_handler = logging.handlers.TimedRotatingFileHandler(
    "app.log", when="D", backupCount=7, encoding="utf-8"
)
rotate_handler.setLevel(logging.DEBUG)
rotate_handler.setFormatter(detailed_formatter)

root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)
root_logger.addHandler(console_handler)
root_logger.addHandler(rotate_handler)
</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ä¾‹2ï¸âƒ£ JSONå½¢å¼ã§ãƒ­ã‚®ãƒ³ã‚° <a class="footnote-reference brackets" href="#json-format-blog" id="id70" role="doc-noteref"><span class="fn-bracket">[</span>17<span class="fn-bracket">]</span></a></h2>
<ul class="simple">
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’ <strong>JSONå‡ºåŠ›ã™ã‚‹ã‚‚ã®ã«å·®ã—æ›¿ãˆ</strong> ã‚‹ã ã‘</p></li>
<li><p><a class="reference external" href="https://github.com/nhairs/python-json-logger" rel="noreferrer" target="_blank">python-json-logger</a> ã® <code class="docutils literal notranslate"><span class="pre">JsonFormatter</span></code></p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="json-format-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id70" role="doc-backlink">17</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/python-json-logger-formatter-for-json-logging-quickstart" rel="noreferrer" target="_blank">Pythonã§ãƒ­ã‚°ã‚’JSONå½¢å¼ã§å‡ºåŠ›ã—ãŸã„ãªã‚‰ã€python-json-logger ãŒã‚ã‚‹ã˜ã‚ƒãªã€œã„ï¼ã¨æ€ã„å‡ºã—ã¦è§¦ã£ãŸãƒ¡ãƒ¢</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">JsonFormatter</span></code> ã«å·®ã—æ›¿ãˆ</h3>
<div class="literal-block-wrapper docutils container" id="id119">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/f3901a2f5d7fa3bdf3f11e0c83c515781d51c116/samplecode/python-logging/library_logger/root_logging_jsonformat.py" rel="noreferrer" target="_blank">JSONã§ãƒ­ã‚®ãƒ³ã‚°ã™ã‚‹ä¾‹</a></span></div>
<pre><code class="python" data-line-numbers="7" data-noescape="" data-trim="">from pythonjsonlogger.json import JsonFormatter

root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
json_formatter = JsonFormatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(json_formatter)
root_logger.addHandler(console_handler)
console_handler.addFilter(logging.Filter("httpx"))
</code></pre>
</div>
<pre data-id="jsonformatter"><code class="json" data-noescape="" data-trim="">{"asctime": "2025-09-25 00:27:41,332", "levelname": "INFO", "name": "httpx", "filename": "_client.py", "funcName": "_send_single_request", "lineno": 1025, "message": "HTTP Request: GET https://peps.python.org/api/peps.json \"HTTP/1.1 200 OK\""}</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚° 2ä¾‹</h2>
<ul class="simple">
<li><p>ãƒ¬ãƒ™ãƒ«ã«ã‚ˆã‚‹å‡ºåŠ›å…ˆ ã®æŒ¯ã‚Šåˆ†ã‘ â¡ï¸ è¤‡æ•°ãƒãƒ³ãƒ‰ãƒ©</p></li>
<li><p>JSONå½¢å¼ â¡ï¸ ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’å·®ã—æ›¿ãˆ</p></li>
<li><p>IMOï¼šãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®çµ„åˆã›ï¼ˆå‹ï¼‰ã‹ã‚‰ <strong>ç‰¹å®šã®ãƒ‘ãƒ¼ãƒ„ã ã‘ã„ã˜ã£ã¦ã„ã‚‹</strong> æ„Ÿ</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">logging ã®æ§‹æˆè¦ç´ ã‚’æŠ¼ã•ãˆã‚‹ã¨ç¾ã—ã„ã€ã®ã§ã™ãŒ</h3>
<ul class="simple">
<li><p>HTTPXã®ã‚ˆã†ãªãƒ­ã‚®ãƒ³ã‚°ã¯ã€ <strong>ç¾å®Ÿä¸–ç•Œã§ã¯ã¾ã‚Œ</strong> ğŸ˜¢</p></li>
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚°ã¨ã„ã†ç´¹ä»‹ã—ãŸå‹ãŒç°¡å˜ã«é©ç”¨ã§ããªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯å¤šã„ï¼ˆçµŒé¨“è«‡ï¼‰ã€‚çš†ã•ã‚“ã«ã‚‚æ­¦å™¨ã‚’é…ã‚Šã¾ã™</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Chapter 4: ä¼¸ã³ã—ã‚ã®ã‚ã‚‹ãƒ­ã‚®ãƒ³ã‚°å®Ÿè£…ã¨ã€å¯¾å‡¦è¡“</h2>
<p>ğŸ“£ã€Œ2äº‹ä¾‹ã‚’ä»–å±±ã®çŸ³ã¨ã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <strong>ãƒ¦ãƒ¼ã‚¶ã«ãƒãƒƒã‚¯ãŒå¿…è¦ãªã„</strong> ã‚ˆã†ã«ãƒ­ã‚®ãƒ³ã‚°ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã­ã€</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">äº‹ä¾‹1ï¼š<code class="docutils literal notranslate"><span class="pre">print</span></code> ã™ã‚‹ã‚‚ã®ã¯ãƒ­ã‚®ãƒ³ã‚°ã§ã¯ã‚ã‚Šã¾ã›ã‚“ <a class="footnote-reference brackets" href="#anti-pattern-print" id="id73" role="doc-noteref"><span class="fn-bracket">[</span>18<span class="fn-bracket">]</span></a></h2>
<div class="literal-block-wrapper docutils container" id="id120">
<div class="code-block-caption"><span class="caption-text">è‰²ä»˜ãã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å‡ºåŠ›ã™ã‚‹ãƒ­ã‚¬ãƒ¼ï¼ˆ<a class="reference external" href="https://github.com/unclecode/crawl4ai/blob/v0.4.24/crawl4ai/async_logger.py#L147" rel="noreferrer" target="_blank">crawl4ai v0.4.24</a>ï¼‰</span></div>
<pre><code class="python" data-noescape="" data-trim="">class AsyncLogger:
    def _log(
        self,
        level: LogLevel,
        message: str,
    ):
        if self.verbose or kwargs.get("force_verbose", False):
            print(log_line)</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="anti-pattern-print" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id73" role="doc-backlink">18</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/use-logger-instead-of-print-in-python-libraries" rel="noreferrer" target="_blank">çµ„ã¿è¾¼ã¿é–¢æ•° print ã®å‘¼ã³å‡ºã—ã¯ã€æ±ºã—ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ã¯ã‚ã‚Šã¾ã›ã‚“</a> ï¼ˆæ‹™ãƒ–ãƒ­ã‚°ï¼‰</p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚°ã«ã¯printã§ãªãloggerã‚’ä½¿ã†</h3>
<p>ã€<a class="reference external" href="https://gihyo.jp/book/2020/978-4-297-11197-7" rel="noreferrer" target="_blank">è‡ªèµ°ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼</a>ã€ <a class="reference external" href="https://jisou-programmer.beproud.jp/%E3%83%AD%E3%82%AE%E3%83%B3%E3%82%B0/72-%E3%83%AD%E3%82%B0%E3%81%AB%E3%81%AFprint%E3%81%A7%E3%81%AA%E3%81%8Flogger%E3%82%92%E4%BD%BF%E3%81%86.html" rel="noreferrer" target="_blank">72:ãƒ­ã‚°ã«ã¯printã§ãªãloggerã‚’ä½¿ã†</a></p>
<blockquote>
<div><p>ãƒ­ã‚®ãƒ³ã‚°ã‚’ä½¿ãˆã°ã€è¡¨ç¤ºã‚’ã‚„ã‚ãŸã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ãŸã‚Šã€ãƒ­ã‚°ã‚’æ®‹ã—ãŸæ—¥æ™‚ã‚’æ®‹ã—ãŸã‚Šã§ãã¾ã™ã€‚</p>
</div></blockquote>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">print ã¨ logger <a class="footnote-reference brackets" href="#when-to-use-logging" id="id74" role="doc-noteref"><span class="fn-bracket">[</span>19<span class="fn-bracket">]</span></a></h3>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="when-to-use-logging" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id74" role="doc-backlink">19</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#when-to-use-logging" rel="noreferrer" target="_blank">logging ã‚’ä½¿ã†ã¨ãï¼ˆåŸºæœ¬ logging ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ï¼‰</a></p>
</aside>
</aside>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ã‚¿ã‚¹ã‚¯</p></td>
<td><p>æœ€é©ãªãƒ„ãƒ¼ãƒ«</p></td>
</tr>
<tr class="row-even"><td><p>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§æ™®é€šã«ä½¿ã†ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã®è¡¨ç¤º</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">print()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é€šå¸¸ã®æ“ä½œä¸­ã«ç™ºç”Ÿã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã®å ±å‘Š</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">logger.info()</span></code> ï¼ˆã‚„ <code class="docutils literal notranslate"><span class="pre">logger.debug()</span></code>ï¼‰</p></td>
</tr>
</tbody>
</table>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">logger.info("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸")</span></code> ã¯ <code class="docutils literal notranslate"><span class="pre">print</span></code> ã¨é•ã£ã¦</h3>
<ul class="simple">
<li><p><strong>ãƒ­ã‚¬ãƒ¼ã®ãƒ¬ãƒ™ãƒ«</strong> ã®æŒ‡å®šã§ã€å‡ºåŠ›ãªã—ã«ã§ãã‚‹</p></li>
<li><p><strong>ãƒãƒ³ãƒ‰ãƒ©</strong> ã‚’å¤‰ãˆã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã§ãã‚‹</p></li>
<li><p>ãƒ­ã‚°ãƒ¬ã‚³ãƒ¼ãƒ‰ã® <strong>asctimeå±æ€§</strong> ã§æ—¥æ™‚ã‚’è¨˜éŒ²ã§ãã‚‹ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ï¼‰</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">è‰²ä»˜ããƒ­ã‚®ãƒ³ã‚°ã®é¸æŠè‚¢</h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Textualize/rich/blob/master/README.ja.md" rel="noreferrer" target="_blank">Rich</a> ã® <code class="docutils literal notranslate"><span class="pre">RichHandler</span></code> <a class="footnote-reference brackets" href="#rich-handler-blog" id="id76" role="doc-noteref"><span class="fn-bracket">[</span>20<span class="fn-bracket">]</span></a></p></li>
<li><p>ãƒ¬ãƒ™ãƒ«ã«è‰²ãŒä»˜ã uvicorn ã®ãƒ­ã‚®ãƒ³ã‚°ï¼ˆ<a class="reference external" href="https://github.com/Kludex/uvicorn/blob/0.37.0/uvicorn/logging.py#L14-L65" rel="noreferrer" target="_blank">è‡ªä½œFormatter</a>ï¼‰ã«ãªã‚‰ã†</p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="rich-handler-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id76" role="doc-backlink">20</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/python-colorful-console-logging-by-richhandler" rel="noreferrer" target="_blank">Python ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è‰²ä»˜ãã§ãƒ­ã‚®ãƒ³ã‚°ã—ãŸã„ã¨ãã®é¸æŠè‚¢ã€Rich ã® Logging Handler ã‚’è§¦ã‚‹</a></p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">äº‹ä¾‹2ï¼š <strong>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§</strong> ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’è§¦ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“</h2>
<p>DON'TğŸ™…â€â™‚ï¸ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ <code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> ã®ãƒ’ãƒŸãƒ„</h3>
<blockquote>
<div><p>(ç•¥) ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«è¨­å®šã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒ©ãŒã‚ã‚Œã°ä½•ã‚‚ã—ã¾ã›ã‚“ã€‚</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.basicConfig" rel="noreferrer" target="_blank">logging.basicConfig()</a></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å®Ÿé¨“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</h3>
<pre data-id="id78"><code class="python" data-noescape="" data-trim="">import logging

# å…ˆã«importã•ã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚³ãƒ¼ãƒ‰ã‚’æƒ³å®š
logging.basicConfig(level=logging.INFO)
logging.info("æƒ³å®šé€šã‚Š")
logging.warning("ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ")

# ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¦ãƒ¼ã‚¶ã®è¨­å®šã®æƒ³å®š
logging.basicConfig(level=logging.WARNING)  # åŠ¹ãã¾ã›ã‚“ğŸ˜­
logging.info("æƒ³å®šé€šã‚Š")
logging.warning("ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ")</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’è¨­å®šã™ã‚‹ã®ã¯ã€Œä¸€åº¦ã ã‘ã€</h3>
<div class="literal-block-wrapper docutils container" id="id121">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/python/cpython/blob/v3.13.7/Lib/logging/__init__.py#L2082" rel="noreferrer" target="_blank">basicConfig() ã®å®Ÿè£…</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">def basicConfig(**kwargs):

    if len(root.handlers) == 0:
        ...</code></pre>
</div>
<p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ãƒãƒ³ãƒ‰ãƒ©ã‚’è¨­å®šã—ã¦ã—ã¾ã†ã¨ã€ <strong>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã§å‘¼ã³å‡ºã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚‰ãªã„</strong> ğŸ˜­</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">logging.warning()</span></code> ãªã©ã‚‚å…¨éƒ¨ <code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> ã‚’å‘¼ã‚“ã§ã¾ã™</h3>
<blockquote>
<div><p>ï¼ˆè£œè¶³ï¼šãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ãŒãƒãƒ³ãƒ‰ãƒ©ã‚’æŒãŸãªã„å ´åˆã¯ï¼‰ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã® <code class="docutils literal notranslate"><span class="pre">debug</span></code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™å‰ã« <code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> ãŒå‘¼ã°ã‚Œã¾ã™ã€‚</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/library/logging.html#logging.debug" rel="noreferrer" target="_blank">logging.debug()</a></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> åŒæ§˜ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä½¿ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“</h3>
<div class="literal-block-wrapper docutils container" id="id122">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/python/cpython/blob/v3.13.7/Lib/logging/__init__.py#L2198" rel="noreferrer" target="_blank">logging.debug() ã®å®Ÿè£…</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">def debug(msg, *args, **kwargs):
    if len(root.handlers) == 0:
        basicConfig()
    root.debug(msg, *args, **kwargs)</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã‚ã®Googleã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚‚ã‚„ã£ã¦ã‚‹ğŸ˜­</h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/googleapis/python-genai" rel="noreferrer" target="_blank">google-genai</a> ï¼ˆ<a class="reference external" href="https://github.com/googleapis/python-genai/issues/278" rel="noreferrer" target="_blank">ä¿®æ­£æ¸ˆã¿</a>ï¼‰ <a class="footnote-reference brackets" href="#google-genai-issue-blog" id="id81" role="doc-noteref"><span class="fn-bracket">[</span>21<span class="fn-bracket">]</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/google/adk-python" rel="noreferrer" target="_blank">google-adk</a> <a class="footnote-reference brackets" href="#google-adk-issue-blog" id="id82" role="doc-noteref"><span class="fn-bracket">[</span>22<span class="fn-bracket">]</span></a></p></li>
</ul>
<p>ãƒ—ãƒ«ãƒªã‚¯é€ã£ã¦ã“ï¼</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="google-genai-issue-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id81" role="doc-backlink">21</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/google-genai-fixed-issue-call-logging-info-not-logger-info" rel="noreferrer" target="_blank">google-genaiã‚ˆã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’è§¦ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“ (v1.3.0ã§è§£æ¶ˆæ¸ˆã¿)</a></p>
</aside>
<aside class="footnote brackets" id="google-adk-issue-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id82" role="doc-backlink">22</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/google-adk-python-cli-debug-logging-noisy-and-workaround" rel="noreferrer" target="_blank">Agent Development Kit (1.10.0) ã®Web UIã‚„APIã‚µãƒ¼ãƒã¯ DEBUG ãƒ¬ãƒ™ãƒ«ã§ãƒ­ã‚®ãƒ³ã‚°ã—ã¦é€ã‚‰ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç¢ºèªã§ãã¾ã™ãŒã€ãã®å®Ÿè£…ã«ã¯ä¼¸ã³ã—ã‚ãŒã‚ã‚Šã¾ã™ï¼ˆWorkaroundã‚’æ·»ãˆã¦ï¼‰</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">workaround: <code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> ã® <code class="docutils literal notranslate"><span class="pre">force</span></code> å¼•æ•°</h3>
<pre data-id="workaround-basicconfig-force"><code class="python" data-line-numbers="7" data-noescape="" data-trim="">import logging

logging.basicConfig(level=logging.INFO)
logging.info("æƒ³å®šé€šã‚Š")
logging.warning("ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ")

logging.basicConfig(level=logging.WARNING, force=True)
logging.info("æƒ³å®šé€šã‚Š")
logging.warning("ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ")</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ“£ <strong>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¯è§¦ã‚‰ãªã„</strong></h3>
<blockquote>
<div><p>ã‚ãªãŸã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰ <em>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¸ç›´æ¥ãƒ­ã‚°ã‚’è¨˜éŒ²ã—ãªã„</em> ã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#configuring-logging-for-a-library" rel="noreferrer" target="_blank">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãŸã‚ã®ãƒ­ã‚®ãƒ³ã‚°ã®è¨­å®š</a> ã®æ³¨é‡ˆ</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Chapter 5: è½ç©‚æ‹¾ã„</h2>
<ol class="arabic simple">
<li><p>æœ€çµ‚æ‰‹æ®µãƒãƒ³ãƒ‰ãƒ©</p></li>
<li><p>è¨­å®šæ–¹æ³•ã®é¸æŠè‚¢ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã®è¨­å®šå«ã‚€ï¼‰</p></li>
<li><p>æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª logging ä»¥å¤–ã®é¸æŠè‚¢ï¼ˆloguruãªã©ï¼‰</p></li>
</ol>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">1ï¸âƒ£ æœ€çµ‚æ‰‹æ®µãƒãƒ³ãƒ‰ãƒ©</h2>
<div class="literal-block-wrapper docutils container" id="id123">
<div class="code-block-caption"><span class="caption-text">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§warningã®ãƒ­ã‚®ãƒ³ã‚°</span></div>
<pre><code class="python" data-noescape="" data-trim="">import logging

logger = logging.getLogger(__name__)


def example():
    logger.warning("ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ")
</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å®Ÿã¯ <code class="docutils literal notranslate"><span class="pre">basicConfig()</span></code> ãªã—ã§ãƒ­ã‚®ãƒ³ã‚°ã§ãã¾ã™</h3>
<div class="literal-block-wrapper docutils container" id="id124">
<div class="code-block-caption"><span class="caption-text">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’è¨­å®šã—ãªã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰</span></div>
<pre><code class="python" data-noescape="" data-trim="">from mylib import example

example()
</code></pre>
</div>
<pre data-id="id85"><code class="txt" data-noescape="" data-trim="">ã¡ã‚‡ã£ã¨ãƒ¤ãƒã„ã‚ˆ</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ã‚¬ãƒ¼ã«ãƒãƒ³ãƒ‰ãƒ©ã‚’æŒ‡å®šã—ãªã„ã¨ã</h3>
<blockquote>
<div><p>ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€ <code class="docutils literal notranslate"><span class="pre">lastResort</span></code> ã«æ ¼ç´ã•ã‚ŒãŸã€Œæœ€çµ‚æ‰‹æ®µãƒãƒ³ãƒ‰ãƒ©ã€ã‚’ä½¿ç”¨ã—ã¦å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>
<p>ãƒãƒ³ãƒ‰ãƒ©ã®ãƒ¬ãƒ™ãƒ«ã¯ <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> ã«ã‚»ãƒƒãƒˆã•ã‚Œã€(ç•¥)</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#what-happens-if-no-configuration-is-provided" rel="noreferrer" target="_blank">ç’°å¢ƒè¨­å®šãŒä¸ãˆã‚‰ã‚Œãªã„ã¨ã©ã†ãªã‚‹ã‹</a></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">æœ€çµ‚æ‰‹æ®µãƒãƒ³ãƒ‰ãƒ©ã‚’ä½¿ã‚ãªã„ãªã‚‰ <code class="docutils literal notranslate"><span class="pre">NullHandler</span></code></h3>
<blockquote>
<div><p>ä½•ã‚‰ã‹ã®ç†ç”±ã§ãƒ­ã‚®ãƒ³ã‚°è¨­å®šãŒãªã•ã‚Œã¦ã„ãªã„ã¨ãã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º <em>ã•ã›ãŸããªã„</em> ã®ã§ã‚ã‚Œã°ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ãƒ­ã‚¬ãƒ¼ã«ä½•ã‚‚ã—ãªã„ãƒãƒ³ãƒ‰ãƒ©ã‚’å–ã‚Šä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚</p>
</div></blockquote>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#configuring-logging-for-a-library" rel="noreferrer" target="_blank">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãŸã‚ã®ãƒ­ã‚®ãƒ³ã‚°ã®è¨­å®š</a></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="docutils literal notranslate"><span class="pre">NullHandler</span></code> ä»¥å¤–ã‚’å–ã‚Šä»˜ã‘ã¦ã¯ã„ã‘ã¾ã›ã‚“ğŸ™…â€â™‚ï¸</h3>
<ul class="simple">
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã§å‡ºåŠ›</p></li>
<li><p>è¦ªã®ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ä¼æ’­ï¼ˆpropagateï¼‰ã—ã€ ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã§ã‚‚å‡¦ç†ã—ã¦ <strong>2é‡</strong> å‡ºåŠ›</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">2ï¸âƒ£ è¨­å®šæ–¹æ³•ã®é¸æŠè‚¢</h2>
<pre data-id="id88"><code class="python" data-noescape="" data-trim="">root_logger = logging.getLogger()
root_logger.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
detailed_formatter = logging.Formatter(
    "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
)
console_handler.setFormatter(detailed_formatter)
root_logger.addHandler(console_handler)
console_handler.addFilter(logging.Filter("httpx"))
</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><a class="reference external" href="https://docs.python.org/ja/3/library/logging.config.html#logging.config.dictConfig" rel="noreferrer" target="_blank">dictConfig</a></h3>
<div class="literal-block-wrapper docutils container" id="id125">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/6f6b360b8b884f5dce9b62e2cd37055c0313db25/samplecode/python-logging/library_logger/root_logging_dictconfig.py" rel="noreferrer" target="_blank">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚° dictConfigç‰ˆ</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">import logging.config
logging.config.dictConfig(
    {
        "version": 1,
        "disable_existing_loggers": False,
        "root": {
            "level": "DEBUG",
            "handlers": ["console"],
        },
        "handlers": {
            "console": {
                "class": "logging.StreamHandler",
                "formatter": "detailed",
                "filters": ["httpx"],
            },
        },
        "formatters": {
            "detailed": {
                "format": "%(asctime)s | %(levelname)s (%(name)s) | %(filename)s:%(funcName)s:%(lineno)d - %(message)s"
            },
        },
        "filters": {
            "httpx": {
                "name": "httpx",
            },
        },
    }
)
</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã‚³ãƒ¼ãƒ‰ã®ä»£ã‚ã‚Šã« <a class="reference external" href="https://docs.python.org/ja/3/library/logging.config.html#logging.config.fileConfig" rel="noreferrer" target="_blank">fileConfig</a></h3>
<ul>
<li><p><a class="reference external" href="https://docs.python.org/ja/3/library/configparser.html" rel="noreferrer" target="_blank">configparser</a> å½¢å¼ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®š <a class="footnote-reference brackets" href="#configparser-file" id="id91" role="doc-noteref"><span class="fn-bracket">[</span>23<span class="fn-bracket">]</span></a></p>
<blockquote>
<div><p>ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ [loggers], [handlers], [formatters] ã¨ã„ã£ãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå…¥ã£ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãšã€ï¼ˆ<a class="reference external" href="https://docs.python.org/ja/3/library/logging.config.html#configuration-file-format" rel="noreferrer" target="_blank">ç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸å¼</a>ï¼‰</p>
</div></blockquote>
</li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="configparser-file" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id91" role="doc-backlink">23</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/ja/3/howto/logging.html#configuring-logging" rel="noreferrer" target="_blank">ãƒ­ã‚®ãƒ³ã‚°ã®ç’°å¢ƒè¨­å®š</a> ã§è¦‹ã‚‰ã‚Œã¾ã™</p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ’¡YAMLãƒ•ã‚¡ã‚¤ãƒ« + <code class="docutils literal notranslate"><span class="pre">dictConfig</span></code> <a class="footnote-reference brackets" href="#yaml-dictconfig-blog" id="id92" role="doc-noteref"><span class="fn-bracket">[</span>24<span class="fn-bracket">]</span></a></h3>
<div class="literal-block-wrapper docutils container" id="id126">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/6f6b360b8b884f5dce9b62e2cd37055c0313db25/samplecode/python-logging/library_logger/root_logging_yamlconfig.py" rel="noreferrer" target="_blank">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚° ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰è¾æ›¸ã§èª­ã¿è¾¼ã¿ç‰ˆ</a></span></div>
<pre><code class="python" data-noescape="" data-trim="">config_path = Path(__file__).parent / "config.yml"
with config_path.open() as f:
    config = yaml.safe_load(f)
logging.config.dictConfig(config)
</code></pre>
</div>
<p>uvicornã®ãƒ­ã‚®ãƒ³ã‚°ã®å®Ÿè£…ã§å­¦ã³ã¾ã—ãŸ</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="yaml-dictconfig-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id92" role="doc-backlink">24</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/configure-python-librarys-logger-logging-config-dict-or-yaml" rel="noreferrer" target="_blank">Pythonã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç”¨æ„ã•ã‚ŒãŸãƒ­ã‚¬ãƒ¼ã‚’logging.configã§è¨­å®šã™ã‚‹ï¼ˆhttpxã‚’ä¾‹ã«ã€è¾æ›¸ã‚„YAMLã§è¨­å®šï¼‰</a></p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">3ï¸âƒ£ æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª logging ä»¥å¤–ã®é¸æŠè‚¢</h2>
<p><a class="reference external" href="https://github.com/vinta/awesome-python?tab=readme-ov-file#logging" rel="noreferrer" target="_blank">vinta/awesome-pythonã®Logging</a> ã«ãƒªã‚¹ãƒˆ</p>
<ul class="simple">
<li><p>loguru</p></li>
<li><p>structlog</p></li>
</ul>
<p>IMOï¼šãã‚Œãã‚Œæˆ‘ã®å¼·ã„ä¸–ç•Œè¦³ã‚’æŒã£ã¦ã„ã‚‹</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><a class="reference external" href="https://github.com/Delgan/loguru" rel="noreferrer" target="_blank">loguru</a></h3>
<blockquote>
<div><p>Python logging made (stupidly) simple</p>
</div></blockquote>
<ul class="simple">
<li><p>HTTPX ã® logging ã‚’ä½¿ã£ãŸãƒ­ã‚°ã‚’ loguru ã§å‡ºåŠ›ã§ãã¾ã™</p></li>
<li><p><a class="reference external" href="https://github.com/Delgan/loguru/tree/0.7.3?tab=readme-ov-file#entirely-compatible-with-standard-logging" rel="noreferrer" target="_blank">Entirely compatible with standard logging</a> ã‚ˆã‚Šã€<em>InterceptHandler</em> ã‚’å®Ÿè£…ã—ã¦ã€ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã«è¨­å®šï¼ˆæ¬¡é ï¼‰</p></li>
</ul>
</section>
<section>
<div class="literal-block-wrapper docutils container" id="id127">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/f3901a2f5d7fa3bdf3f11e0c83c515781d51c116/samplecode/python-logging/library_logger/loguru_example.py" rel="noreferrer" target="_blank">loguru ã§ãƒ­ã‚®ãƒ³ã‚°ã™ã‚‹ä¾‹</a> <a class="footnote-reference brackets" href="#loguru-with-logging-blog" id="id95" role="doc-noteref"><span class="fn-bracket">[</span>25<span class="fn-bracket">]</span></a></span></div>
<pre><code class="python" data-noescape="" data-trim="">class InterceptHandler(logging.Handler):
    def emit(self, record: logging.LogRecord) -&gt; None:
        try:
            level: str | int = logger.level(record.levelname).name
        except ValueError:
            level = record.levelno

        frame, depth = inspect.currentframe(), 0
        while frame:
            filename = frame.f_code.co_filename
            is_logging = filename == logging.__file__
            is_frozen = "importlib" in filename and "_bootstrap" in filename
            if depth &gt; 0 and not (is_logging or is_frozen):
                break
            frame = frame.f_back
            depth += 1

        logger.opt(depth=depth, exception=record.exc_info).log(
            level, record.getMessage()
        )
</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="loguru-with-logging-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id95" role="doc-backlink">25</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/loguru-compatibility-with-stdlib-logging-example-httpx" rel="noreferrer" target="_blank">HTTPX ã‚’ä¾‹ã«ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª logging ã«ã‚ˆã‚‹ãƒ­ã‚°ã‚’ loguru ã§å‡ºåŠ›ã™ã‚‹ã«ã¯</a></p>
</aside>
</aside>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><a class="reference external" href="https://github.com/hynek/structlog" rel="noreferrer" target="_blank">structlog</a></h3>
<blockquote>
<div><p>Simple, powerful, and fast logging for Python.</p>
</div></blockquote>
<ul class="simple">
<li><p>æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª logging ã‹ã‚‰ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ãŒã€<a class="reference external" href="https://www.structlog.org/en/stable/standard-library.html#suggested-configurations" rel="noreferrer" target="_blank">äº’æ›ã§ã‚‚ã‚ã‚‹</a> ï¼ˆ<em>structlog.stdlib.ProcessorFormatter</em>ï¼‰</p></li>
<li><p>PyCon JP 2024ã€Œ<a class="reference external" href="https://2024.pycon.jp/en/talk/RRRAAT" rel="noreferrer" target="_blank">å®Ÿè·µstructlog</a>ã€</p></li>
</ul>
</section>
<section>
<div class="literal-block-wrapper docutils container" id="id128">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/ftnext/2025-slides/blob/f3901a2f5d7fa3bdf3f11e0c83c515781d51c116/samplecode/python-logging/library_logger/structlog_example.py" rel="noreferrer" target="_blank">structlog ã§ãƒ­ã‚®ãƒ³ã‚°ã™ã‚‹ä¾‹</a> <a class="footnote-reference brackets" href="#structlog-with-logging-blog" id="id97" role="doc-noteref"><span class="fn-bracket">[</span>26<span class="fn-bracket">]</span></a></span></div>
<pre><code class="python" data-noescape="" data-trim="">shared_processors = [
    structlog.stdlib.add_logger_name,
    structlog.stdlib.add_log_level,
    structlog.stdlib.PositionalArgumentsFormatter(),
    add_millisecond_timestamp,  # TimeStamper(fmt="iso")ã‚ˆã‚Šã‚‚stdlib loggingã«å¯„ã›ã‚‹
    structlog.processors.StackInfoRenderer(),
    structlog.processors.format_exc_info,
    structlog.processors.UnicodeDecoder(),
    structlog.processors.CallsiteParameterAdder(
        {
            structlog.processors.CallsiteParameter.FILENAME,
            structlog.processors.CallsiteParameter.FUNC_NAME,
            structlog.processors.CallsiteParameter.LINENO,
        }
    ),
]

formatter = structlog.stdlib.ProcessorFormatter(
    foreign_pre_chain=shared_processors,
    processors=[
        structlog.stdlib.ProcessorFormatter.remove_processors_meta,
        structlog.dev.ConsoleRenderer(),
    ],
)
</code></pre>
</div>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="structlog-with-logging-blog" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id97" role="doc-backlink">26</a><span class="fn-bracket">]</span></span>
<p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/structlog-integration-with-stdlib-logging-example-httpx" rel="noreferrer" target="_blank">HTTPX ã‚’ä¾‹ã«ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª logging ã«ã‚ˆã‚‹ãƒ­ã‚°ã‚’ structlog ã§å‡ºåŠ›ã™ã‚‹ã«ã¯</a></p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">One more thing</h2>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><strong class="command">uvx --with happy-python-logging[flake8] flake8</strong></h3>
<ul class="simple">
<li><p>è‡ªä½œ <a class="reference external" href="https://pypi.org/project/happy-python-logging/" rel="noreferrer" target="_blank">https://pypi.org/project/happy-python-logging/</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logging.basicConfig()</span></code> ã®ä½¿ç”¨ã‚’ <strong>ãƒªãƒ³ã‚¿ãƒ¼ã§æŒ‡æ‘˜</strong> ã™ã‚‹æ¡ˆã®å®Ÿè£…ã«ç€æ‰‹</p></li>
</ul>
<pre data-id="uvx-with-happy-python-logging-flake8-flake8"><code class="txt" data-noescape="" data-trim="">src/antipattern_logging/call_basic_config.py:3:1: HPL101 Don't configure the root logger in your library</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸŒ¯æœ€åˆã®è³ªå•ï¼šè‡ªä¿¡ã‚’æŒã£ã¦æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã‚’ä½¿ãˆãã†ã§ã™ã‹ï¼Ÿ</h2>
<ul class="simple">
<li><p>ãƒ­ã‚¬ãƒ¼ã® <code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ãƒ¬ãƒ™ãƒ«ï¼š<strong>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¨åŒã˜å®ŸåŠ¹ãƒ¬ãƒ™ãƒ«</strong> ã§ä½¿ãˆã‚‹</p></li>
<li><p>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã¸ã®ä¼æ’­ï¼ˆpropagateï¼‰ï¼š<strong>ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒ©ã§å‡ºåŠ›</strong></p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã¾ã¨ã‚ğŸŒ¯ï¼šæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®loggingã€ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ˆã†ã«çµ„åˆã›ã¦ãƒ­ã‚®ãƒ³ã‚°ã§ãã‚‹ã“ã¨ã‚’ç†è§£ã—ã‚ˆã†ï¼</h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NOTSET</span></code> ã¨propagateã‹ã‚‰å°ã‹ã‚Œã‚‹1ã¤ã® <strong>å‹</strong> ï¼ˆãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã§ãƒ­ã‚®ãƒ³ã‚°ï¼‰ã‚’ç´¹ä»‹</p></li>
<li><p>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® <strong>åˆ©ç”¨è€…</strong> ãŒ <strong>æœ›ã‚€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€å‡ºåŠ›å…ˆ</strong> ã§ãƒ­ã‚®ãƒ³ã‚°</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ğŸŒ¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® <strong>ä½œè€…</strong> ã¯ãƒ­ã‚¬ãƒ¼ã®å‘¼ã³å‡ºã—ã®ã¿</h3>
<ul class="simple">
<li><p><strong>ã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²ã ã‘</strong> ã—ãŸã„</p></li>
<li><p>ãƒ­ã‚®ãƒ³ã‚°ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„å‡ºåŠ›å…ˆã«ã¯é–¢å¿ƒãŒãªã„ï¼ˆåˆ©ç”¨è€…ãŒè‡ªç”±ã«è¨­å®šã—ã¦ã„ã‚‹å‰æã§ï¼‰</p></li>
<li><p>ã‚†ãˆã«ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã‚’è§¦ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">HTTPXã®ã‚ˆã†ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ãªã„ <strong>æ‰‹å…ƒã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</strong> ã§ã‚‚</h3>
<div class="literal-block-wrapper docutils container" id="id129">
<div class="code-block-caption"><span class="caption-text">ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã®è¨­å®šã¯ä¸€ç®‡æ‰€ã§ã€é–¢æ•°ã®ä¸­ã§ã¯ãƒ­ã‚¬ãƒ¼ã‚’å‘¼ã¶ã ã‘</span></div>
<pre><code class="python" data-noescape="" data-trim="">def awesome():
    # loggerå‘¼ã³å‡ºã—ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²ã®ã¿ï¼‰
def fabulous():
    # loggerå‘¼ã³å‡ºã—ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²ã®ã¿ï¼‰
def main():
    logging.basicConfig(...)  # ãƒ«ãƒ¼ãƒˆãƒ­ã‚¬ãƒ¼ã«ãƒ¬ãƒ™ãƒ«ã€ãƒãƒ³ãƒ‰ãƒ©ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿
    awesome()
    fabulous()</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼</h3>
<p>Happy Python Loggingâ™ª</p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Appendix</h2>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">å…ƒã«ã—ãŸå…ˆè¡Œç™ºè¡¨</h3>
<ul class="simple">
<li><p>æ‹™ãƒ–ãƒ­ã‚° <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/python-logging-developing-library-take-advantage-nullhandler-and-propagate" rel="noreferrer" target="_blank">Pythonã§æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªloggingã‚’ä½¿ã£ã¦è‡ªä½œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã§ãƒ­ã‚®ãƒ³ã‚°ã—ãŸã„æœªæ¥ã®ç§ã¸</a></p></li>
<li><p>2æœˆã®PyCon mini Shizuoka 2024 continue <a class="reference external" href="https://ftnext.github.io/2025-slides/pyconshizu/logging-with-nullhandler.html#/1" rel="noreferrer" target="_blank">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…ã«è´ˆã‚‹ã€Œãƒ­ã‚®ãƒ³ã‚°ã§ NullHandler ä»¥å¤–ã¯ã„ã‘ã¾ã›ã‚“ã€</a></p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãŠå‰ã€èª°ã‚ˆ è£œè¶³</h3>
<ul class="simple">
<li><p><span class="fab fa-twitter"></span> <a class="reference external" href="https://twitter.com/ftnext" rel="noreferrer" target="_blank">@ftnext</a> ï¼ ç™»å£‡ <a class="reference external" href="https://github.com/ftnext/2025-slides" rel="noreferrer" target="_blank">2025</a> <a class="reference external" href="https://github.com/ftnext/2024-slides" rel="noreferrer" target="_blank">2024</a></p></li>
<li><p><a class="reference external" href="https://nikkie-ftnext.hatenablog.com/" rel="noreferrer" target="_blank">ãƒ–ãƒ­ã‚°</a> ã‚’1000æ—¥æ›¸ã„ã¦ã¾ã™</p></li>
<li><p>æ¯æœˆã® <a class="reference external" href="https://startpython.connpass.com/" rel="noreferrer" target="_blank">ã¿ã‚“ãªã®Pythonå‹‰å¼·ä¼š</a> ã‚¹ã‚¿ãƒƒãƒ•</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">Special Thanks attakeiã•ã‚“ <a class="footnote-reference brackets" href="#thanks-footnotes" id="id105" role="doc-noteref"><span class="fn-bracket">[</span>27<span class="fn-bracket">]</span></a></h3>
<p>attakeiã•ã‚“ã® <a class="reference external" href="https://pypi.org/project/sphinx-revealjs/" rel="noreferrer" target="_blank">sphinx-revealjs</a> ã«ä»¥ä¸‹ã® <strong>è‡ªä½œæ‹¡å¼µ</strong> ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿç¾</p>
<ul class="simple">
<li><p>ç§ã®ä»£è¡¨ä½œï¼š <a class="reference external" href="https://pypi.org/project/sphinx-new-tab-link/" rel="noreferrer" target="_blank">sphinx-new-tab-link</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/sphinx-revealjs-copycode/" rel="noreferrer" target="_blank">sphinx-revealjs-copycode</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/sphinx-revealjs-ext-codeblock/" rel="noreferrer" target="_blank">sphinx-revealjs-ext-codeblock</a></p></li>
</ul>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="thanks-footnotes" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a href="#id105" role="doc-backlink">27</a><span class="fn-bracket">]</span></span>
<p>è„šæ³¨ã®æ©Ÿèƒ½è¿½åŠ ã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</p>
</aside>
</aside>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">EOF</h2>
</section>
</section>
        </div>
    </div>
    
    <script src="../_static/revealjs/dist/reveal.js"></script>
    
    
      <script src="../_static/revealjs/plugin/highlight/highlight.js"></script>
      <script src="../_static/revealjs/plugin/notes/notes.js"></script>
      <script src="../_static/revealjs/plugin/copycode/copycode.js"></script>
      
    
    <script>
        var revealjsConfig = new Object();
        Object.assign(revealjsConfig, {"controls": true, "progress": true, "history": true, "center": true, "transition": "none", "slideNumber": "c/t", "scrollActivationWidth": null});
        
        
        
          revealjsConfig.plugins = [
            RevealHighlight,RevealNotes,CopyCode,
          ];
        
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize(revealjsConfig);
    </script>

  </body>
</html>