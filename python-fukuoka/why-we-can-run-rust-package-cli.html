<!DOCTYPE html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</title>
    <link rel="stylesheet" type="text/css" href="../_static/revealjs/dist/reveal.css?v=d4488b42" />
    <link rel="stylesheet" href="../_static/revealjs/dist/theme/black.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/revealjs/plugin/highlight/zenburn.css?v=83d5745d" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/common.css?v=b04cc698" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-revealjs/css/footnotes.css?v=c46a0db2" />
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@ftnext">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://ftnext.github.io/2025-slides/python-fukuoka/why-we-can-run-rust-package-cli.html">
    <meta property="og:title" content="Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ">
    <meta property="og:description" content="Python Meetup Fukuoka #4 LT (2025/09)">
    <meta property="og:image" content="https://ftnext.github.io/2025-slides/_static/ogps/python-fukuoka.png">

  </head><body>
    <div class="reveal">
        <div class="slides" role="main">
            <section>
<section>
<h1 style="word-break: keep-all; overflow-wrap: break-word;">Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h1>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h2>
<dl class="field-list simple">
<dt class="field-odd">Event<span class="colon">:</span></dt>
<dd class="field-odd"><p>Python Meetup Fukuoka #4</p>
</dd>
<dt class="field-even">Presented<span class="colon">:</span></dt>
<dd class="field-even"><p>2025/09/12 nikkie</p>
</dd>
</dl>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ã“ã®LTã¯ã€ä»¥ä¸‹ãŒã§ãã‚‹ç†ç”±ã‚’è‡ªåˆ†ã®è¨€è‘‰ã§èª¬æ˜ã™ã‚‹ã‚‚ã®ã§ã™</h2>
<pre data-id="lt"><code class="shell" data-noescape="" data-trim="">$ python -m venv .venv --upgrade-deps
$ source .venv/bin/activate
(.venv) $ python -m pip install ruff
(.venv) $ ruff check --fix --extend-select I</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">æœ¬LTã®ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å ´åˆåˆ†ã‘ï¼‰</h3>
<ul class="simple">
<li><p>Pythonè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å ´åˆï¼ˆä¾‹ï¼š<a class="reference external" href="https://pypi.org/project/sampleproject/" rel="noreferrer" target="_blank">sampleproject</a>ï¼‰</p></li>
<li><p>Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å ´åˆï¼ˆä¾‹ï¼š<a class="reference external" href="https://pypi.org/project/ruff/" rel="noreferrer" target="_blank">Ruff</a>ï¼‰</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;"><strong>Python</strong> è£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h2>
<pre data-id="python"><code class="shell" data-noescape="" data-trim="">$ python -m venv .venv --upgrade-deps  # Python 3.13.0
$ source .venv/bin/activate
(.venv) $ python -m pip install sampleproject
(.venv) $ .venv/bin/sample  # /usr/bin/sample ã¨åŒºåˆ¥
Call your main application code here</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">metadata ã® project.scripts</h3>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/pypa/sampleproject/blob/621e4974ca25ce531773def586ba3ed8e736b3fc/pyproject.toml#L151-L154" rel="noreferrer" target="_blank">sampleproject ã® pyproject.toml æŠœç²‹</a></span></div>
<pre><code class="toml" data-noescape="" data-trim="">[project.scripts]
sample = "sample:main"</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ä»®æƒ³ç’°å¢ƒä¸‹ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</h3>
<pre data-id="id3"><code class="shell" data-noescape="" data-trim="">$ ls -l .venv/bin/sample
-rwxr-xr-x  1 user  group  211 Sep 12 11:23 .venv/bin/sample
$ file .venv/bin/sample
.venv/bin/sample: a /.../.venv/bin/python script text executable, ASCII text
$ # .venv/bin ã¯ä»®æƒ³ç’°å¢ƒã®æœ‰åŠ¹åŒ–ã§ PATH ã«å…¥ã£ã¦ã„ã‚‹</code></pre>
<p>ã€Œã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ï¼ˆã€<a class="reference external" href="https://www.oreilly.co.jp/books/9784814400928/" rel="noreferrer" target="_blank">ãƒã‚¤ãƒ‘ãƒ¼ãƒ¢ãƒ€ãƒ³Python</a>ã€2ç« ï¼‰</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¸­èº«</h3>
<pre data-id="id4"><code class="python" data-noescape="" data-trim="">#!/.../.venv/bin/python
import sys
from sample import main
if __name__ == '__main__':
    if sys.argv[0].endswith('.exe'):
        sys.argv[0] = sys.argv[0][:-4]
    sys.exit(main())
</code></pre>
<p><em>distlib</em> ã«ã‚ˆã‚‹ã‚‰ã—ã„ (<a class="reference external" href="https://github.com/pypa/pip/blob/24.3.1/src/pip/_vendor/distlib/scripts.py#L40-L49" rel="noreferrer" target="_blank">pip 24.3.1 å®Ÿè£…</a>)</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã‚·ãƒãƒ³ã«Pythonã®ãƒ‘ã‚¹</h3>
<pre data-id="id5"><code class="python" data-noescape="" data-trim="">#!/.../.venv/bin/python
</code></pre>
<ul class="simple">
<li><p><strong>Pythonå‡¦ç†ç³»ã§å®Ÿè¡Œ</strong>ï¼</p></li>
<li><p><a class="reference external" href="https://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%90%E3%83%B3_(Unix" rel="noreferrer" target="_blank">https://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%90%E3%83%B3_(Unix</a>)</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ä»®æƒ³ç’°å¢ƒã®Pythonå‡¦ç†ç³»ãŒå®Ÿè¡Œ</h3>
<pre data-id="id6"><code class="python" data-noescape="" data-trim="">import sys
from sample import main
if __name__ == '__main__':
    if sys.argv[0].endswith('.exe'):
        sys.argv[0] = sys.argv[0][:-4]
    sys.exit(main())
</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ¥ŸPythonè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h2>
<ul class="simple">
<li><p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<strong>Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆ</strong>ï¼‰ãŒç½®ã‹ã‚Œã‚‹</p></li>
<li><p>ã‚·ãƒãƒ³ã«ã‚ˆã‚Šã€Pythonå‡¦ç†ç³»ã§å®Ÿè¡Œã•ã‚Œã‚‹</p></li>
</ul>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;"><strong>Rust</strong> è£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h2>
<pre data-id="id8"><code class="shell" data-noescape="" data-trim="">$ python -m venv .venv --upgrade-deps
$ source .venv/bin/activate
(.venv) $ python -m pip install ruff
(.venv) $ ruff check --fix --extend-select I</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ä»®æƒ³ç’°å¢ƒä¸‹ã« <strong>ãƒã‚¤ãƒŠãƒª</strong></h3>
<pre data-id="id9"><code class="shell" data-noescape="" data-trim="">$ ls -lh .venv/bin/ruff
-rwxr-xr-x  1 user  group    30M Sep 12 11:30 .venv/bin/ruff
$ file .venv/bin/ruff
.venv/bin/ruff: Mach-O 64-bit executable arm64</code></pre>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸ”‘maturin</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.maturin.rs/#maturin" rel="noreferrer" target="_blank">https://www.maturin.rs/#maturin</a></p></li>
<li><p><strong>Rustãƒã‚¤ãƒŠãƒª</strong> ã¯ã‚‚ã¡ã‚ã‚“ã€pyo3ãªã©ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ã£ãŸã‚¯ãƒ¬ãƒ¼ãƒˆã‚’Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ãƒ“ãƒ«ãƒ‰ãƒ»å…¬é–‹ã§ãã‚‹ãƒ„ãƒ¼ãƒ«</p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">Rustç‰ˆ sampleproject ã‚’ä»Šå›è‡ªä½œ</h3>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text"><code class="file docutils literal notranslate"><span class="pre">src/main.rs</span></code></span></div>
<pre><code class="rust" data-noescape="" data-trim="">fn main() {
    println!("Call your main application code here");
}</code></pre>
</div>
<pre data-id="rust-sampleproject"><code class="shell" data-noescape="" data-trim="">$ cargo run --quiet
Call your main application code here</code></pre>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;"><code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code> è¿½åŠ </h3>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">å®Œå…¨ç‰ˆ <a class="reference external" href="https://github.com/ftnext/sampleproject-rs/blob/0.0.2/pyproject.toml" rel="noreferrer" target="_blank">pyproject.toml</a></span></div>
<pre><code class="toml" data-noescape="" data-trim="">[build-system]
requires = ["maturin&gt;=1.8,&lt;2.0"]
build-backend = "maturin"

[tool.maturin]
bindings = "bin"
strip = true</code></pre>
</div>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãƒ­ãƒ¼ã‚«ãƒ«ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œ</h3>
<pre data-id="id10"><code class="shell" data-noescape="" data-trim="">(.venv) $ uvx maturin build
(.venv) $ python -m pip install target/wheels/sampleproject_rs-0.0.2-py3-none-macosx_11_0_arm64.whl
(.venv) $ .venv/bin/sample
Call your main application code here</code></pre>
<p>åˆ¥æ¡ˆï¼š<code class="docutils literal notranslate"><span class="pre">maturin</span> <span class="pre">develop</span></code> ãªã‚‰ <cite>.venv/bin/sample</cite> ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ã§</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">PyPIã«ã‚‚å…¬é–‹</h3>
<p><a class="reference external" href="https://pypi.org/project/sampleproject-rs/" rel="noreferrer" target="_blank">https://pypi.org/project/sampleproject-rs/</a></p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">GitHub Codespaces ã«ã¦</span></div>
<pre><code class="shell" data-noescape="" data-trim="">$ pipx run --spec sampleproject-rs sample
Call your main application code here</code></pre>
</div>
<p>macOSå‘ã‘ãªã©ã®ãƒã‚¤ãƒŠãƒªã¯ä»Šå¾Œå¯¾å¿œäºˆå®š</p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">bindings = "bin" (<code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code>)</h3>
<blockquote>
<div><p>Maturin also supports distributing binary applications written in Rust as Python packages using the <code class="docutils literal notranslate"><span class="pre">bin</span></code> bindings.</p>
</div></blockquote>
<p><a class="reference external" href="https://www.maturin.rs/bindings#bin" rel="noreferrer" target="_blank">https://www.maturin.rs/bindings#bin</a></p>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">Ruffã® <code class="file docutils literal notranslate"><span class="pre">pyproject.toml</span></code></h3>
<pre data-id="ruff-pyproject-toml"><code class="toml" data-line-numbers="2" data-noescape="" data-trim="">[tool.maturin]
bindings = "bin"
manifest-path = "crates/ruff/Cargo.toml"
module-name = "ruff"
python-source = "python"
strip = true
exclude = [
    "crates/ruff_linter/resources/test/fixtures/**/*",
    "crates/ruff_linter/src/rules/*/snapshots/**/*"
]</code></pre>
<p><a class="reference external" href="https://github.com/astral-sh/ruff/blob/0.13.0/pyproject.toml#L46-L55" rel="noreferrer" target="_blank">https://github.com/astral-sh/ruff/blob/0.13.0/pyproject.toml#L46-L55</a></p>
</section>
</section>
<section>
<section>
<h2 style="word-break: keep-all; overflow-wrap: break-word;">ğŸŒ¯Rustè£½ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã®ã¯ã€ãªãœï¼Ÿ</h2>
<ul class="simple">
<li><p>ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªãã€ãƒã‚¤ãƒŠãƒªãŒç½®ã‹ã‚Œã‚‹</p></li>
<li><p>ãƒ“ãƒ«ãƒ‰ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã« maturin ã‚’ä½¿ã†ã¨ã€<strong>Rustã§ä½œã£ãŸãƒã‚¤ãƒŠãƒªãŒPythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã‚‹</strong></p></li>
</ul>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ãŠå‰ã€èª°ã ã£ãŸã®ã‚ˆï¼Ÿ</h3>
<ul class="simple">
<li><p>nikkieï¼ˆã«ã£ããƒ¼ï¼‰ãƒ» <strong>1000æ—¥</strong> <a class="reference external" href="https://nikkie-ftnext.hatenablog.com/" rel="noreferrer" target="_blank">ãƒ–ãƒ­ã‚°</a> ã‚’æ›¸ãã¾ã—ãŸï¼ï¼ˆæ›´æ–°ä¸­ï¼‰</p></li>
<li><p>æ©Ÿæ¢°å­¦ç¿’ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ»LLMãƒ»è‡ªç„¶è¨€èªå‡¦ç†ï¼ˆ<a class="reference external" href="https://hrmos.co/pages/uzabase/jobs/1829077236709650481" rel="noreferrer" target="_blank">We're hiring!</a>ï¼‰</p></li>
<li><p><a class="reference external" href="https://www.uzabase.com/jp/info/20250630/" rel="noreferrer" target="_blank">Speeda AI Agent</a> é–‹ç™º</p></li>
</ul>
<img alt="../_images/uzabase-white-logo.png" src="../_images/uzabase-white-logo.png"/>
</section>
<section>
<h3 style="word-break: keep-all; overflow-wrap: break-word;">ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</h3>
<ul class="simple">
<li><p><a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/python-project-scripts-command-secret-shebang" rel="noreferrer" target="_blank">ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ pip install ã—ã¦ç”Ÿãˆã‚‹ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿä½“ã¯ã€ã‚·ãƒãƒ³ã§Pythonã‚’æŒ‡å®šã—ãŸãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã—ãŸ</a></p></li>
<li><p><a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/maturin-bindings-bin-python-package-from-rust-binary" rel="noreferrer" target="_blank">Rustãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ä½œã£ãŸãƒã‚¤ãƒŠãƒªã¯ã€maturinã§Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã§ãã‚‹ï¼ï¼</a></p></li>
<li><p><a class="reference external" href="https://nikkie-ftnext.hatenablog.com/entry/try-maturin-pypi-upload-confuse-binary-each-environment" rel="noreferrer" target="_blank">Rust ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ä½œã£ãŸãƒã‚¤ãƒŠãƒªã‚’ PyPI ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¦</a></p></li>
</ul>
</section>
</section>

        </div>
    </div>
    
    <script src="../_static/revealjs/dist/reveal.js"></script>
    
    
      <script src="../_static/revealjs/plugin/highlight/highlight.js"></script>
      <script src="../_static/revealjs/plugin/notes/notes.js"></script>
      <script src="../_static/revealjs/plugin/copycode/copycode.js"></script>
      
    
    <script>
        var revealjsConfig = new Object();
        Object.assign(revealjsConfig, {"controls": true, "progress": true, "history": true, "center": true, "transition": "none", "slideNumber": "c/t", "scrollActivationWidth": null});
        
        
        
          revealjsConfig.plugins = [
            RevealHighlight,RevealNotes,CopyCode,
          ];
        
        // More info https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize(revealjsConfig);
    </script>

  </body>
</html>